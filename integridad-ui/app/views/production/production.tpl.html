<div style="width: 100%; height: 100%; top: 0px; left: 0px; position: fixed; display: block; z-index: 99" ng-show="vm.loading">
    <div style="position: absolute; top: 15%; z-index: 100; width: 100%; text-align: center;">
        <div class="sk-circle">
            <div class="sk-circle1 sk-child"></div>
            <div class="sk-circle2 sk-child"></div>
            <div class="sk-circle3 sk-child"></div>
            <div class="sk-circle4 sk-child"></div>
            <div class="sk-circle5 sk-child"></div>
            <div class="sk-circle6 sk-child"></div>
            <div class="sk-circle7 sk-child"></div>
            <div class="sk-circle8 sk-child"></div>
            <div class="sk-circle9 sk-child"></div>
            <div class="sk-circle10 sk-child"></div>
            <div class="sk-circle11 sk-child"></div>
            <div class="sk-circle12 sk-child"></div>
        </div>
    </div>
</div>

<div class="form-group col-md-12">
    <div class="header" ng-show="vm.warehouseSelected === undefined">
        <h4><b>Inventarios</b></h4>
    </div>
    <div class="row" ng-show="vm.error != undefined">
        <div class = "form-group col-md-12">
            <div class="alert alert-danger">{{vm.error}}</div>
        </div>
    </div>
    <div class="row" ng-show="vm.success != undefined">
        <div class="form-group col-md-12">
            <div class="alert alert-success">{{vm.success}}</div>
        </div>
    </div>

    <!--CARGA DE WAREHOUSE POR USERCLIENT-->
    <div class="table-responsive" ng-show="vm.warehouseSelected === undefined">
        <div class="row">
            <div class="form-group col-md-12">
                <input ng-model="searchText" class="form-control" placeholder="Buscar">
            </div>
        </div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>C&oacute;digo</th>
                    <th>Nombre de Bodega</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-show="vm.warehouseList == 0">
                    <td colspan="4">
                        No hay Bodegas registradas para esta Empresa
                    </td>
                </tr>
                <tr ng-repeat="warehouse in vm.warehouseList | orderBy:'name' | filter:searchText">
                    <td>{{warehouse.codeWarehouse}}</td>
                    <td>{{warehouse.nameNumber}}</td>
                    <td>
                        <button type="button" title = "Ingresos" class="btn btn-primary btn-sm"
                                ng-click="vm.selectWarehouse(warehouse)" ng-show="vm.inventoryOption === 'ENTR'">
                                <span class = "glyphicon glyphicon-log-in" aria-hidden = "true"></span>
                        </button>
                        <!--<button type="button" title="Consulta de Ingresos Pendientes" class="btn btn-success btn-sm"
                                ng-disabled="vm.userCode === 'EMP'" ng-click="vm.findCellarPending(warehouse)">
                                <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                        </button>-->
                        <button type="button" title="Egresos" class="btn btn-primary btn-sm"
                                ng-click="vm.consumptionFromWarehouse(warehouse)" ng-show="vm.inventoryOption === 'EGRS'">
                                <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                        </button>
                        <button type="button" title="Reporte Kardex por Producto" class="btn btn-success btn-sm"
                                ng-click="vm.reportKardex(warehouse)" ng-show="vm.inventoryOption === 'REPT'">
                                <span class="glyphicon glyphicon-film" aria-hidden="true"></span>
                        </button>
                        <button type="button" title="Ajuste Kardex por Producto" class="btn btn-primary btn-sm"
                                ng-click="vm.settingForKardex(warehouse)" ng-show="vm.inventoryOption === 'ADJ'">
                                <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="row">
            <div class="form-group col-md-12">
                <button type="button" title="Volver a Inicio" class="btn btn-danger btn-sm"
                        ng-click="vm.exit()">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--CARGA DE PROVEEDORES POR WAREHOUSE PARA INGRESO A BODEGA-->
    <div class="table-responsive" ng-show="vm.warehouseSelected !== undefined && vm.providerList !== undefined && vm.detailCellarList === undefined">
        <div class="row">
            <div class="form-group col-md-12">
                <h4><b>Ingreso a Bodega</b></h4>
                <h4>Sucursal: {{vm.warehouseSubsidiaryName}}</h4>
                <h5><b>Bodega: {{vm.warehouseName}}</b></h5>
            </div>
            <div class="form-group col-md-12">
                <input ng-model = "searchText" class = "form-control" placeholder = "Buscar Proveedores">
            </div>
        </div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>C&oacute;digo</th>
                    <th>Nombre</th>
                    <th>Tipo ID</th>
                    <th>No. Identidad</th>
                    <th>
                        <button type="button" title="Busqueda por Detalles" class="btn btn-primary btn-sm" ng-click="vm.getDetailsOfCellars()">
                                <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                        </button>
                    </th>
                    <th>
                        <button type="button" title="Agregar Nuevo Proveedor" class="btn btn-primary btn-sm" ng-click="vm.providerCreate()">
                                <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                        </button>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr ng-show="vm.providerList == 0">
                    <td colspan="4">
                        No hay proveedores ingresados
                    </td>
                </tr>
                <tr ng-repeat="provider in vm.providerList | orderBy:'name' | filter:searchText">
                    <td>{{provider.codeIntegridad}}</td>
                    <td>{{provider.name}}</td>
                    <td>{{provider.rucType}}</td>
                    <td>{{provider.ruc}}</td>
                    <td></td>
                    <td>
                        <button type="button" title="Ingreso a Bodega" class="btn btn-primary btn-sm"
                                ng-click="vm.providerSelectToEnterCellar(provider)">
                                <span class="glyphicon glyphicon-import" aria-hidden="true"></span>
                        </button>
                        <button type="button" title="Consulta de Ingreso a Bodega" class="btn btn-primary btn-sm"
                                ng-click="vm.consultSavedCellar(provider)">
                                <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="row">
            <div class="form-group col-md-12">
                <button type="button" title="Salir" class="btn btn-primary btn-sm"
                        ng-click="vm.cancelSelectWarehouse()">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>
    <!--FIN DE CARGA DE PROVEEDORES POR WAREHOUSE PARA INGRESO A BODEGA-->

    <!--BUSQUEDA DE DETALLES POR FACTURAS-->
    <div class="table-responsive" ng-show="vm.detailCellarList !== undefined">
        <div class="row">
            <div class="form-group col-md-12">
                <h4><b>Ingreso a Bodega</b></h4>
                <h4>Sucursal: {{vm.warehouseSubsidiaryName}}</h4>
                <h5><b>Bodega: {{vm.warehouseName}}</b></h5>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading">
                <b>BUSQUEDA DE DETALLES POR FACTURAS</b>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-12">
                        <input ng-model="searchText" class="form-control" placeholder="Buscar">
                    </div>
                </div>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>N&uacute;mero</th>
                            <th>Fecha Ingreso</th>
                            <th>Descripci&oacute;n</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-show="vm.detailCellarList == 0">
                            <td colspan="4">
                                No hay Detalles ingresados
                            </td>
                        </tr>
                        <tr ng-repeat="detailCellar in vm.detailCellarList | orderBy:'billNumber':true | filter:searchText">
                            <td>{{detailCellar.cellar.billNumber}}</td>
                            <td>{{detailCellar.cellar.dateEnterCellar | date : "dd/MM/yyyy"}}</td>
                            <td>{{detailCellar.adicional}}</td>
                            <td>
                                <button type="button" title="Ver Factura de Ingreso" class="btn btn-primary btn-sm" ng-click="">
                                        <span class = "glyphicon glyphicon-eye-open" aria-hidden = "true"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="panel-footer">
                <button type="button" title="Salir"  class="btn btn-primary btn-sm" ng-click="vm.detailCellarList = undefined; searchText = undefined">
                        <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--VISUALIZACIÓN DE INGRESOS A BODEGA POR PROVEEDOR-->
    <div class="table-responsive" ng-show="vm.cellarSavedList !== undefined">
        <div class="row">
            <div class="form-group col-md-12">
                <h4><b>Ingreso a Bodega</b></h4>
                <h4>Sucursal: {{vm.warehouseSubsidiaryName}}</h4>
                <h5><b>Bodega: {{vm.warehouseName}}</b></h5>
            </div>
            <div class="form-group col-md-12">
                <input ng-model = "searchText" class = "form-control" placeholder = "Buscar Ingresos">
            </div>
        </div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>N&uacute;mero</th>
                    <th>Fecha Ingreso</th>
                    <th>Proveedor</th>
                    <th>Factura</th>
                    <th>Estado</th>
                    <th>Total</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-show="vm.cellarSavedList == 0">
                    <td colspan="4">
                        No hay Ingresos a Bodega registrados
                    </td>
                </tr>
                <tr ng-repeat="cellarSaved in vm.cellarSavedList | orderBy:'dateCreated':true | filter:searchText">
                    <td>{{cellarSaved.whNumberSeq}}</td>
                    <td>{{cellarSaved.dateEnterCellar | date : "dd/MM/yyyy"}}</td>
                    <td>{{cellarSaved.provider.name}}</td>
                    <td>{{cellarSaved.billNumber}}</td>
                    <td>{{cellarSaved.statusIngreso}}</td>
                    <td>{{cellarSaved.total}}</td>
                    <td>
                        <button type="button" title="Ver Ingreso a Bodega" class="btn btn-primary btn-sm" ng-click="vm.cellarSelect(cellarSaved, true)"
                        ng-disabled="!cellarSaved.active">
                                <span class = "glyphicon glyphicon-eye-open" aria-hidden = "true"></span>
                        </button>
                        <button type="button" title="Anular Ingreso a Bodega" class="btn btn-primary btn-sm" ng-click="vm.cellarSelect(cellarSaved, false)"
                        data-toggle="modal" data-target="#modalAnular" ng-disabled="!cellarSaved.active">
                            <span class = "glyphicon glyphicon-remove   " aria-hidden = "true"></span>
                    </button>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="row">
            <div class="form-group col-md-12">
                <button type="button" title="Salir" class="btn btn-primary btn-sm" ng-click="vm.cancelConsultSavedCellar()">
                        <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--SECCIÓN DE INGRESO A BODEGA-->
    <div class="panel-group table-responsive" ng-show="vm.providerSelected !== undefined && vm.wizard === undefined">
        <div class="row">
            <div class="form-group col-md-12">
                <h4><b>Ingreso a Bodega</b></h4>
                <h4>Sucursal: {{vm.warehouseSubsidiaryName}}</h4>
                <h5><b>Bodega: {{vm.warehouseName}}</b></h5>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading">
                <div>
                    <b>Ingreso Nro: </b>{{vm.cellSeqNumber}}
                </div>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>C&oacute;digo Proveedor:</label>
                        {{vm.cellar.provider.codeIntegridad}}
                    </div>
                    <div class="form-group col-md-6">
                        <label ng-if="vm.cellar.provider.rucType === 'RUC'">RUC:</label>
                        <label ng-if="vm.cellar.provider.rucType === 'CED'">CEDULA:</label>
                        <label ng-if="vm.cellar.provider.rucType === 'IEX'">ID. EXTERIOR:</label>
                        {{vm.cellar.provider.ruc}}
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>Nombre Comercial:</label>
                        {{vm.cellar.provider.name}}
                    </div>
                    <div class="form-group col-md-6">
                        <label>Raz&oacute;n Social:</label>
                        {{vm.cellar.provider.razonSocial}}
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-12">
                        <label>Tipo de Proveedor:</label>
                        {{vm.cellar.provider.providerType}}
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-4">
                        <label>Fecha de Ingreso a Bodega:</label>
                        <div class="input-group date" id="pickerDateEnterCellar">
                            <input type="text" class="form-control input-group-addon"/>
                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"/></span>
                        </div>
                        <script>
                            var defaultDate = new Date();
                            $('#pickerDateEnterCellar').datetimepicker({format: "DD/MM/YY",});
                        </script>
                    </div>
                    <div class="form-group col-md-4">
                        <label>&#42; N&uacute;mero de Factura:</label><br/>
                        <input type="text" ng-model="vm.cellar.billNumber"
                               class="form-control" maxlength="17">
                    </div>
                    <div class="form-group col-md-4">
                        <label>&#42; Fecha de Factura: </label>
                        <div class="input-group date" id="pickerDateBill">
                            <input type="text" class="form-control input-group-addon"/>
                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"/></span>
                        </div>
                        <script>
                            var defaultDate = new Date();
                            $('#pickerDateBill').datetimepicker({format: "DD/MM/YY",});
                        </script>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-8">
                        <label>N&uacute;mero de Autorizaci&oacute;n:</label><br/>
                        <input type="text" ng-model="vm.cellar.authNumber" onkeypress="return ((event.which >= 48 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                               class="form-control" maxlength="100">
                    </div>
                    <div class="form-group col-md-4">
                        <label>Descuento por valor:</label><br/>
                        <input type="text" ng-blur="vm.recalculateTotalCellar()" ng-model="vm.cellar.descuento" class="form-control"
                        onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))">
                    </div>
                </div>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading">
                <b>Detalle</b>
            </div>
            <div class="panel-body table-responsive">
                <div class="row">
                    <div class="form-group col-md-12">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Item</th>
                                    <th>C&oacute;digo</th>
                                    <th>Nombre Producto</th>
                                    <th>Descripci&oacute;n</th>
                                    <th>Cant.</th>
                                    <th>U. Med.</th>
                                    <th>V. Unit.</th>
                                    <th>V. Total.</th>
                                    <th ng-if="vm.newCellar">
                                        <button type="button" title="Agregar Productos" class="btn btn-primary" ng-click="vm.addProduct()"
                                                data-toggle="modal" data-target="#modalAddProductCellar">
                                                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                        </button>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-show="vm.cellar.detailsCellar == 0">
                                    <td colspan="4">
                                        No hay detalles ingresados
                                    </td>
                                </tr>
                                <tr ng-repeat="detail in vm.cellar.detailsCellar">
                                    <td>{{$index + 1}}</td>
                                    <td>{{detail.product.codeIntegridad}}</td>
                                    <td>{{detail.product.name}}</td>
                                    <td>{{detail.adicional}}</td>
                                    <td>{{detail.quantity}}</td>
                                    <td>{{detail.product.unitOfMeasurementFull}}</td>
                                    <td>{{detail.costEach}}</td>
                                    <td>{{detail.total}}</td>
                                    <td ng-if="vm.newCellar">
                                        <button type="button" title="Editar Producto" class="btn btn-primary btn-sm"
                                                ng-click="vm.editDetail(detail, $index)"
                                                data-toggle="modal" data-target="#modalAddProductCellar">
                                                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                        </button>
                                        <button type="button" title="Eliminar Producto" class="btn btn-primary btn-sm"
                                                ng-click="vm.removeDetail($index)">
                                                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>SUBTOTAL: </b></td>
                                    <td>{{vm.cellar.subTotal}}</td>
                                    <td> </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>BASE 0%: </b></td>
                                    <td>{{vm.cellar.baseNoTaxes}}</td>
                                    <td> </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>BASE 12%: </b></td>
                                    <td>{{vm.cellar.baseTaxes}}</td>
                                    <td> </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>IVA: </b></td>
                                    <td>{{vm.cellar.iva}}</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>TOTAL: </b></td>
                                    <td>{{vm.cellar.total}}</td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="panel-footer">
                <button type="button" title="Guardar Ingreso a Bodega" class="btn btn-primary btn-sm" ng-if="vm.newCellar"
                        ng-click="vm.saveCellar(vm.cellar)"
                        ng-disabled="vm.disableSave()">
                        <span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
                </button>
                <button type="button" title = "Imprimir Ticket-Ingreso Bodega" class="btn btn-primary btn-sm"
                        ng-if="vm.error === undefined" ng-show="!vm.newCellar" ng-click="vm.printToCartAndCancel('printMatrixCellarId')">
                        <span class = "glyphicon glyphicon-print" aria-hidden = "true"></span>
                </button>
                <button type="button" title="Salir" class="btn btn-primary btn-sm"
                        ng-click="vm.cancelCellar()">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--IMPRIME TICKET DE INGRESO A BODEGA-->
    <div id="printMatrixCellarId" ng-show='false'>
        ------------------------------<br/>
        <b>INGRESO No. {{vm.cellSeqNumber}}</b><br/>
        <b>FACTURA No. {{vm.cellar.billNumber}}</b><br/>
        <b>CLAVE ACCESO: {{vm.cellar.authNumber}}</b><br/>

        <b>RAZON SOCIAL:</b><br/>
        <b>{{vm.cellar.provider.name}}</b><br/>
        <b>IDENTIFICACION: {{vm.cellar.provider.ruc}}</b><br/>
        <b>FECHA: {{vm.getDateToPrint() | date :  "dd/MM/yyyy"}}</b><br/>

        <table width="100%">
            <thead>
                <tr>
                    <th align="left">DESCRIP&nbsp;</th>
                    <th align="left">&nbsp;CANT&nbsp;</th>
                    <th align="left">&nbsp;P.UNIT</th>
                    <th align="right">&nbsp;TOTAL</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="detail in vm.cellar.detailsCellar">
                    <td align="left">{{detail.product.name}}</td>
                    <td align="left">&nbsp;{{detail.quantity}}&nbsp;</td>
                    <td align="left"> &#36;{{detail.costEach}}&nbsp;</td>
                    <td align="right">&#36;{{detail.total}}</td>
                </tr>
            </tbody>
        </table>
        <br/>
        <table width="100%">
            <tr>
                <td>SUBTOTAL: &#36;{{vm.cellar.subTotal}}</td>
            </tr>
            <tr>
                <td>BASE 0%: &#36;{{vm.cellar.baseNoTaxes}}</td>
            </tr>
            <tr>
                <td>BASE 12%: &#36;{{vm.cellar.baseTaxes}}</td>
            </tr>
            <tr>
                <td>IVA:   &#36;{{vm.cellar.iva}}</td>
            </tr>
            <tr>
                <td>TOTAL: &#36;{{vm.cellar.total}}</td>
            </tr>
        </table>

        ------------------------------------
    </div>

    <!--MODAL PARA AGREGAR PRODUCTOS-->
    <div id="modalAddProductCellar" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" ng-click="vm.productToAdd=undefined">&times;</button>
                    <h4 class="modal-title">Agregar Producto</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12" ng-if="vm.productToAdd === undefined">
                            <div class="row">
                                <div class="form-group col-md-8">
                                    <input id="prod011" ng-model="vm.searchText" ng-keypress="vm.filterEvent($event)" class="form-control" placeholder="Buscar" />
                                </div>
                                <div class="form-group col-md-4">
                                    <button type="button" title="Buscar" class="btn btn-primary btn-sm" ng-click="vm.filter()">
                                            <span class = "glyphicon glyphicon-search" aria-hidden = "true"></span>
                                    </button>
                                    <button type="button" title="Crear Producto" class="btn btn-primary btn-sm" data-dismiss="modal" ng-click="vm.registerProduct()">
                                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </div>
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th> C&oacute;digo </th>
                                        <th> Nombre </th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-show="vm.productList == 0">
                                        <td colspan="4">
                                            No hay productos ingresados
                                        </td>
                                    </tr>
                                    <tr ng-repeat="productSelect in vm.productList | orderBy:'name' | filter:searchTextProd">
                                        <td>{{productSelect.codeIntegridad}}</td>
                                        <td>{{productSelect.name}}</td>
                                        <td>
                                            <button type="button" title="Seleccionar" class="btn btn-primary btn-sm" ng-click="vm.selectProductToAdd(productSelect)">
                                                    <span class = "glyphicon glyphicon-check" aria-hidden = "true"></span>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <nav aria-label="Page navigation example">
                                <ul class="pagination pagination-sm">
                                    <li class="page-item" ng-repeat="page in vm.range() track by $index" ng-class="vm.getActiveClass($index)">
                                        <a class="page-link" ng-click="vm.paginate($index)">{{$index + 1}}</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                        <div class="col-md-12" ng-if="vm.productToAdd !== undefined">
                            <div class="panel panel-primary">
                                <div class="panel-heading">
                                    <b>{{vm.productToAdd.name}}</b>
                                </div>
                                <div class="panel-body">
                                    <div class="row">
                                        <div class="form-group col-md-6">
                                            <b>CANTIDAD A INGRESAR: </b>
                                            <input type="text" onkeypress="return ((event.which >= 48 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                                   ng-model="vm.quantity" class="form-control" maxlength="9">
                                        </div>
                                        <div class="form-group col-md-6">
                                            <b>COSTO DE COMPRA: </b>
                                            <input type="text"
                                                   ng-model="vm.productToAdd.costEach" class="form-control" ng-change="vm.calcAvg()">
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="form-group col-md-6">
                                            <b>DESCRIPCIÓN: </b>
                                            <input type="text"
                                                   ng-model="vm.adicional" class="form-control">
                                        </div>
                                    </div>
                                    <hr/>
                                    <div class="row">
                                        <div class="form-group col-md-6">
                                            <b>COSTO PROM. SUGERIDO: </b><br/>
                                            $ {{vm.productToAdd.averageCostSuggested}}
                                        </div>
                                        <div class="form-group col-md-6">
                                            <b>COSTO PARA LA VENTA: </b>
                                            <input type="text"
                                                   ng-model="vm.productToAdd.averageCost" class="form-control">
                                        </div>
                                    </div>
                                    <hr/>
                                    <div class="row">
                                        <div class="form-group col-md-6">
                                            <label>M&aacute;ximo / M&iacute;nimo: </label>
                                            <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                                  ng-model="vm.productToAdd.maxMinimun" class="form-control" maxlength="9" ng-disabled="vm.productToAdd.productType.code === 'SER'">
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="form-group col-md-6">
                                            <label>Ganancia % efectivo: </label>
                                            <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                                  ng-model="vm.productToAdd.cashPercentage" class="form-control" maxlength="9">
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label>Ganancia % cr&eacute;dito: </label>
                                            <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                                  ng-model="vm.productToAdd.creditPercentage" class="form-control" maxlength="9">
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="form-group col-md-6">
                                            <label>Ganancia % tarjeta: </label>
                                            <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                                  ng-model="vm.productToAdd.cardPercentage" class="form-control" maxlength="9">
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label>Ganancia % mayorista: </label>
                                            <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                                  ng-model="vm.productToAdd.majorPercentage" class="form-control" maxlength="9">
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="form-group col-md-6">
                                            <label>IVA: </label>
                                            <input class="pull-right" ng-model="vm.productToAdd.iva" type="checkbox">
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label>ICE: </label>
                                            <input class="pull-right" ng-model="vm.productToAdd.ice" type="checkbox">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Aceptar y Cerrar" class="btn btn-success btn-sm" ng-click="vm.acceptCellarProduct(true)"
                            ng-disabled="vm.quantity === undefined || vm.quantity === '' || vm.errorCalc">
                            <span class = "glyphicon glyphicon-thumbs-up" aria-hidden = "true"></span>
                    </button>
                    <button type="button" title="Aceptar y Agregar Mas productos" class="btn btn-primary btn-sm" ng-click="vm.acceptCellarProduct(false)"
                            ng-disabled="vm.quantity === undefined || vm.quantity === '' || vm.errorCalc">
                            <span class = "glyphicon glyphicon-ok-sign" aria-hidden = "true"></span>
                    </button>
                    <button type="button" title="Salir" class="btn btn-primary btn-sm" data-dismiss = "modal">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!--FIN DEL MODAL PARA AGREGAR PRODUCTOS-->
    <!--FIN DE DE INGRESO A BODEGA-->

    <!--CARGA DE CELLAR PENDING POR WAREHOUSE-->
    <div class="table-responsive" ng-show="vm.warehouseSelected !== undefined && vm.cellarList !== undefined && vm.cellarPendingSelected === undefined">
        <div class="row">
            <div class="form-group col-md-12">
                <h4><b>Pendientes por Aprobación</b></h4>
                <h4>Sucursal: {{vm.warehouseSubsidiaryName}}</h4>
                <h5><b>Bodega: {{vm.warehouseName}}</b></h5>
            </div>
        </div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Nro. Ingreso</th>
                    <th>Factura</th>
                    <th>Fecha de Ingreso</th>
                    <th>Proveedor</th>
                    <th>Total</th>
                    <th>Estatus</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-show="vm.cellarList == 0">
                    <td colspan="4">
                        No hay Ingresos a Bodega Pendientes por Validar
                    </td>
                </tr>
                <tr ng-repeat="cellar in vm.cellarList | orderBy:'name' | filter:searchText">
                    <td>{{cellar.cellarSeq}}</td>
                    <td>{{cellar.billNumber}}</td>
                    <td>{{cellar.dateEnterCellar | date : "dd/MM/yyyy"}}</td>
                    <td>{{cellar.provider.name}}</td>
                    <td>{{cellar.total}}</td>
                    <td>{{cellar.statusIngreso}}</td>
                    <td>
                        <button type="button" title="Ver Factura"
                                class="btn btn-primary btn-sm" ng-click="vm.cellarSelected(cellar)">
                                <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
                        </button>
                        <button type="button" title="Autorizar Ingreso a Bodega" class="btn btn-warning btn-sm"
                                ng-click="vm.validateCellar=cellar"
                                data-toggle="modal" data-target="#modalValidar">
                                <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="row">
            <div class="form-group col-md-12">
                <button type="button" title="Salir" class="btn btn-primary btn-sm"
                        ng-click="vm.cancelFindCellars()">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--CARGA DE FACTURA INDIVIDUAL PARA VALIDACIÓN-->
    <div class="panel-group table-responsive" ng-show = "vm.cellarPendingSelected !== undefined">
        <div class="row">
            <div class="form-group col-md-12">
                <h4><b>Pendientes por Aprobación</b></h4>
                <h4>Sucursal: {{vm.warehouseSubsidiaryName}}</h4>
                <h5><b>Bodega: {{vm.warehouseName}}</b></h5>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h4><b>Ingreso a Bodega Nro: </b>{{vm.cellSeqNumber}}</h4>
                <div>
                    <p>Factura Nro: {{vm.billNumber}}</p>
                </div>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>C&oacute;digo Proveedor:</label>
                        {{vm.cellarProviderSelected.codeIntegridad}}
                    </div>
                    <div class="form-group col-md-6">
                        <label ng-if="vm.cellar.provider.rucType === 'RUC'">RUC:</label>
                        <label ng-if="vm.cellar.provider.rucType === 'CED'">CEDULA:</label>
                        <label ng-if="vm.cellar.provider.rucType === 'IEX'">ID. EXTERIOR:</label>
                        {{vm.cellarProviderSelected.ruc}}
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>Nombre Comercial:</label>
                        {{vm.cellarProviderSelected.name}}
                    </div>
                    <div class="form-group col-md-6">
                        <label>Raz&oacute;n Social:</label>
                        {{vm.cellarProviderSelected.razonSocial}}
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-12">
                        <label>Tipo de Proveedor:</label>
                        {{vm.cellarProviderSelected.providerType}}
                    </div>
                </div>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading">
                <b>Detalle</b>
            </div>
            <div class="panel-body table-responsive">
                <div class="row">
                    <div class="form-group col-md-12">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Item</th>
                                    <th>C&oacute;digo</th>
                                    <th>Descripci&oacute;n</th>
                                    <th>Cant.</th>
                                    <th>U. Med.</th>
                                    <th>V. Unit.</th>
                                    <th>V. Total.</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-show="vm.cellarDetails == 0">
                                    <td colspan="4">
                                        No hay detalles ingresados
                                    </td>
                                </tr>
                                <tr ng-repeat="detail in vm.cellarDetails">
                                    <td>{{$index + 1}}</td>
                                    <td>{{detail.product.codeIntegridad}}</td>
                                    <td>{{detail.product.name}}</td>
                                    <td>{{detail.quantity}}</td>
                                    <td>{{detail.product.unitOfMeasurementFull}}</td>
                                    <td>{{detail.costEach}}</td>
                                    <td>{{detail.total}}</td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>SUBTOTAL: </b></td>
                                    <td>{{vm.cellar.subTotal}}</td>
                                    <td> </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>BASE 0%: </b></td>
                                    <td>{{vm.cellar.baseNoTaxes}}</td>
                                    <td> </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>BASE 12%: </b></td>
                                    <td>{{vm.cellar.baseTaxes}}</td>
                                    <td> </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>IVA: </b></td>
                                    <td>{{vm.cellar.iva}}</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>TOTAL: </b></td>
                                    <td>{{vm.cellar.total}}</td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="panel-footer">
                <button type="button" title="Volver" class="btn btn-primary btn-sm"
                        ng-click="vm.cancelCellarSelected()">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--MODAL PARA VALIDAR EL INGRESO A BODEGA-->
    <div id="modalValidar" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" ng-click="vm.client=undefined">&times;</button>
                    <h4 class="modal-title">Advertencia</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12" >
                            Est&aacute; seguro que desea Autorizar el Ingreso a Bodega Nro. <b>{{vm.validateCellar.whNumberSeq}}</b>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Autorizar Ingreso" class="btn btn-warning btn-sm"
                            ng-click="vm.validateEnterCellar()" data-dismiss="modal">
                            <span class = "glyphicon glyphicon-ok" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!--FIN DEL MODAL PARA VALIDAR EL INGRESO A BODEGA-->
    <!--FIN DE CARGA DE CELLAR PENDING POR WAREHOUSE-->

    <!--SECCIÓN DE CONSULTA DE CLIENTES POR USERCLIENT - MODULO EGRESO-->
    <div class="table-responsive" ng-show="vm.warehouseSelected !== undefined && vm.clientList !== undefined">
        <div class="row">
            <div class="form-group col-md-12">
                <h4><b>Egresos</b></h4>
                <h4>Sucursal: {{vm.warehouseSubsidiaryName}}</h4>
                <h5><b>Bodega: {{vm.warehouseName}}</b></h5>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-11">
                <input ng-model="searchText" class="form-control" placeholder="Buscar">
            </div>
        </div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>C&oacute;digo</th>
                    <th>Nombre</th>
                    <th>Tipo ID</th>
                    <th>No. Identidad</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-show="vm.clientList == 0">
                    <td colspan="4">
                        No hay clientes ingresados
                    </td>
                </tr>
                <tr ng-repeat="clientPreSelect in vm.clientList | orderBy:'name' | filter:searchText">
                    <td>{{clientPreSelect.codApp}}</td>
                    <td>{{clientPreSelect.name}}</td>
                    <td>{{clientPreSelect.typeId}}</td>
                    <td>{{clientPreSelect.identification}}</td>
                    <td>
                        <button type="button" title="Nuevo Egreso" class="btn btn-primary btn-sm" ng-click="vm.clientSelect(clientPreSelect)">
                                <span class = "glyphicon glyphicon-file" aria-hidden = "true"></span>
                        </button>
                        <button type="button" title="Consultar Egreso" class="btn btn-primary btn-sm" ng-click="vm.clientConsult(clientPreSelect)">
                                <span class = "glyphicon glyphicon-search" aria-hidden = "true"></span>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="row">
            <div class="form-group col-md-12">
                <button type="button" title="Volver" class="btn btn-primary btn-sm"
                        ng-click="vm.cancelConsumption()">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--SECCIÓN DE CONSULTA DE EGRESOS POR CLIENTE-->
    <div class="table-responsive" ng-show="vm.consumptionList !== undefined">
        <div class="row">
            <div class="form-group col-md-12">
                <h4><b>Egresos</b></h4>
                <h4>Sucursal: {{vm.warehouseSubsidiaryName}}</h4>
                <h5><b>Bodega: {{vm.warehouseName}}</b></h5>
            </div>
        </div>
        <input ng-model="searchText" class="form-control" placeholder="Buscar">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>N&uacute;mero</th>
                    <th>Fecha</th>
                    <th>Cliente</th>
                    <th>Total</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-show="vm.consumptionList == 0">
                    <td colspan="4">
                        No hay Egresos realizados
                    </td>
                </tr>
                <tr ng-repeat="consumption in vm.consumptionList | orderBy:'dateConsumption':true | filter:searchText">
                    <td>{{consumption.csmNumberSeq}}</td>
                    <td>{{consumption.dateConsumption | date :  "dd/MM/yyyy"}}</td>
                    <td>{{consumption.client.name}}</td>
                    <td>{{consumption.total}}</td>
                    <td>
                        <button type="button" title="Ver Egreso" class="btn btn-primary btn-sm" ng-click="vm.findConsumptionByClient(consumption)">
                                <span class = "glyphicon glyphicon-eye-open" aria-hidden = "true"></span>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="row">
            <div class="form-group col-md-12">
                <button type="button" title="Salir"  class="btn btn-primary btn-sm" ng-click="vm.cancelClientConsult()">
                        <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--SECCIÓN DE EGRESO DESDE BODEGA-->
    <div class="panel-group table-responsive" ng-show="vm.clientSelected !== undefined">
        <div class="row">
            <div class="form-group col-md-12">
                <h4><b>Egresos</b></h4>
                <h4>Sucursal: {{vm.warehouseSubsidiaryName}}</h4>
                <h5><b>Bodega: {{vm.warehouseName}}</b></h5>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading">
                <div>
                    <b>Egreso Nro: </b>{{vm.csmSeqNumber}}
                </div>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-3">
                        <label>Egreso:</label>
                        {{vm.csmSeqNumber}}
                    </div>
                    <div class="form-group col-md-3">
                        <label>C&oacute;digo Cliente:</label>
                        {{vm.clientSelected.codApp}}
                    </div>
                    <div class="form-group col-md-6">
                        <label>Nombre:</label>
                        {{vm.clientSelected.name}}
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-4">
                        <label ng-if="vm.clientSelected.typeId === 'RUC'">RUC:</label>
                        <label ng-if="vm.clientSelected.typeId === 'CED'">CEDULA:</label>
                        <label ng-if="vm.clientSelected.typeId === 'PAS'">PASAPORTE:</label>
                        {{vm.clientSelected.identification}}
                    </div>
                    <div class="form-group col-md-4">
                        <label>Email:</label>
                        {{vm.clientSelected.email}}
                    </div>
                    <div class="form-group col-md-4">
                        <label>Fecha de Egreso:</label>
                        <div class="input-group date" id="pickerDateConsumption">
                            <input type="text" class="form-control input-group-addon"/>
                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"/></span>
                        </div>
                        <script>
                            var defaultDate = new Date();
                            $('#pickerDateConsumption').datetimepicker({format: "DD/MM/YY",});
                        </script>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>Supervisor que Autoriza el Egreso:</label><br/>
                        <input type="text" class="form-control" ng-model="vm.consumption.nameSupervisor">
                    </div>
                    <div class="form-group col-md-6">
                        <label>Observaciones:</label><br/>
                        <input type="text" class="form-control" ng-model="vm.csmObservation">
                    </div>
                </div>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading">
                <b>Detalle</b>
            </div>
            <div class="panel-body table-responsive">
                <div class="row">
                    <div class="form-group col-md-12">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Item</th>
                                    <th>C&oacute;digo</th>
                                    <th>Descripci&oacute;n</th>
                                    <th>Cant.</th>
                                    <th>U. Med.</th>
                                    <th>V. Unit.</th>
                                    <th>V. Total.</th>
                                    <th ng-if="vm.newConsumption">
                                        <button type="button" title="Agregar Productos" class="btn btn-primary" ng-click="vm.addProductCsm()"
                                                data-toggle="modal" data-target="#modalAddProductConsump">
                                                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                        </button>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-show="vm.consumption.detailsConsumption == 0">
                                    <td colspan="4">
                                        No hay detalles ingresados
                                    </td>
                                </tr>
                                <tr ng-repeat="detail in vm.consumption.detailsConsumption">
                                    <td>{{$index + 1}}</td>
                                    <td>{{detail.product.codeIntegridad}}</td>
                                    <td>{{detail.product.name}}</td>
                                    <td>{{detail.quantity}}</td>
                                    <td>{{detail.product.unitOfMeasurementFull}}</td>
                                    <td>{{detail.averageCostSuggested}}</td>
                                    <td>{{detail.total}}</td>
                                    <td ng-if="vm.newConsumption">
                                        <button type="button" title="Editar Producto" class="btn btn-primary btn-sm"
                                                ng-click="vm.editDetailCsm(detail, $index)"
                                                data-toggle="modal" data-target="#modalAddProductConsump">
                                                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                        </button>
                                        <button type="button" title="Eliminar Producto" class="btn btn-primary btn-sm"
                                                ng-click="vm.removeDetailCsm($index)">
                                                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>SUBTOTAL: </b></td>
                                    <td>{{vm.consumption.subTotal}}</td>
                                    <td> </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>BASE 0%: </b></td>
                                    <td>{{vm.consumption.baseNoTaxes}}</td>
                                    <td> </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>BASE 12%: </b></td>
                                    <td>{{vm.consumption.baseTaxes}}</td>
                                    <td> </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>IVA: </b></td>
                                    <td>{{vm.consumption.iva}}</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>TOTAL: </b></td>
                                    <td>{{vm.consumption.total}}</td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="panel-footer">
                <button type="button" title="Guardar Egreso" class="btn btn-primary btn-sm"
                        ng-click="vm.saveConsumption(vm.consumption)" ng-if="vm.newConsumption"
                        ng-disabled="vm.consumption.total <= 0">
                        <span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
                </button>
                <button type="button" title = "Imprimir Ticket-Egreso" class="btn btn-primary btn-sm"
                        ng-show="!vm.newConsumption" ng-click="vm.printToCartAndCancelCsm('printMatrixConsumptionId')">
                        <span class = "glyphicon glyphicon-print" aria-hidden = "true"></span>
                </button>
                <button type="button" title="Salir" class="btn btn-primary btn-sm"
                        ng-click="vm.cancelConsumption()">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
                <button type="button" title = "Imprimir a ThermalPrint P58" class="btn btn-danger btn-sm"
                        ng-show="!vm.newConsumption" ng-click="vm.printBillThermal('billPrint')">
                        <span class = "glyphicon glyphicon-print" aria-hidden = "true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--IMPRIME TICKET DE EGRESO-->
    <div id="printMatrixConsumptionId" ng-show='false'>
        ------------------------------<br/>
        <b>EGRESO No. {{vm.csmSeqNumber}}</b><br/>
        <b>SUPERVISOR: {{vm.consumption.nameSupervisor}}</b><br/>
        <b>OBSERVACIONES: {{vm.consumption.observation}}</b><br/>

        <b>RAZON SOCIAL:</b><br/>
        <b>{{vm.consumption.client.name}}</b><br/>
        <b>IDENTIFICACION: {{vm.consumption.client.identification}}</b><br/>
        <b>FECHA: {{vm.getDateToPrintCsm() | date :  "dd/MM/yyyy"}}</b><br/>

        <table width="100%">
            <thead>
                <tr>
                    <th align="left">DESCRIP&nbsp;</th>
                    <th align="left">&nbsp;CANT&nbsp;</th>
                    <th align="left">&nbsp;P.UNIT</th>
                    <th align="right">&nbsp;TOTAL</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="detail in vm.consumption.detailsConsumption">
                    <td align="left">{{detail.product.name}}</td>
                    <td align="left">&nbsp;{{detail.quantity}}&nbsp;</td>
                    <td align="left"> &#36;{{detail.costEach}}&nbsp;</td>
                    <td align="right">&#36;{{detail.total}}</td>
                </tr>
            </tbody>
        </table>
        <br/>
        <table width="100%">
            <tr>
                <td>SUBTOTAL: &#36;{{vm.consumption.subTotal}}</td>
            </tr>
            <tr>
                <td>BASE 0%: &#36;{{vm.consumption.baseNoTaxes}}</td>
            </tr>
            <tr>
                <td>BASE 12%: &#36;{{vm.consumption.baseTaxes}}</td>
            </tr>
            <tr>
                <td>IVA:   &#36;{{vm.consumption.iva}}</td>
            </tr>
            <tr>
                <td>TOTAL: &#36;{{vm.consumption.total}}</td>
            </tr>
        </table>

        ------------------------------------
    </div>

    <!--CREA TICKET EGRESO PARA THERMAL PRINTER-->
    <div id="billPrint" ng-show='false'>
        --------------------
        EGRS No. {{vm.csmSeqNumber}}<br/>
        SUP: {{vm.consumption.nameSupervisor}}<br/>
        R.S: {{(vm.consumption.client.name).substr(0,16)}}<br/>
        RUC: {{vm.consumption.client.identification}}
        FCH: {{vm.getDateToPrintCsm() | date:  "dd/MM/yy"}}
        CANT... DESC... TOT
        <table width="100%">
            <tr ng-repeat="detail in vm.consumption.detailsConsumption">
                <td>{{detail.quantity}} {{(detail.product.name).substr(0,18)}} &#36;{{(detail.total).toFixed(2)}}<br/></td>
            </tr>
        </table>
        S.TOT: {{(vm.consumption.subTotal).toFixed(2)}}<br/>
        TOT: {{vm.consumption.total}}<br/>
        --------------------
    </div>

    <!--MODAL PARA AGREGAR PRODUCTOS A CONSUMIR-->
    <div id="modalAddProductConsump" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" ng-click="vm.productToAdd=undefined">&times;</button>
                    <h4 class="modal-title">Agregar Producto</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12" ng-if="vm.productToAdd === undefined">
                            <div class="row">
                                <div class="form-group col-md-8">
                                    <input id="prod012" ng-model="vm.searchText" ng-keypress="vm.filterEventCsm($event)" class="form-control" placeholder="Buscar" />
                                </div>
                                <div class="form-group col-md-4">
                                    <button type="button" title="Buscar" class="btn btn-primary btn-sm" ng-click="vm.filterCsm()">
                                            <span class = "glyphicon glyphicon-search" aria-hidden = "true"></span>
                                    </button>
                                </div>
                            </div>
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th> C&oacute;digo </th>
                                        <th> Nombre </th>
                                        <th> Cantidad Disponible</th>
                                        <th> Costo Promedio $</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-show="vm.productList == 0">
                                        <td colspan="4">
                                            No hay productos ingresados
                                        </td>
                                    </tr>
                                    <tr ng-repeat="productSelect in vm.productList | orderBy:'name' | filter:searchTextProd">
                                        <td>{{productSelect.codeIntegridad}}</td>
                                        <td>{{productSelect.name}}</td>
                                        <td>{{productSelect.quantity}}</td>
                                        <td>{{productSelect.averageCostSuggested}}</td>
                                        <td>
                                            <button type="button" title="Seleccionar" class="btn btn-primary btn-sm" ng-click="vm.selectProductToAddCsm(productSelect)">
                                                    <span class = "glyphicon glyphicon-check" aria-hidden = "true"></span>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <nav aria-label="Page navigation example">
                                <ul class="pagination pagination-sm">
                                    <li class="page-item" ng-repeat="page in vm.rangeCsm() track by $index" ng-class="vm.getActiveClassCsm($index)">
                                        <a class="page-link" ng-click="vm.paginateCsm($index)">{{$index + 1}}</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                        <div class="col-md-12" ng-if="vm.productToAdd !== undefined">
                            <div class="panel panel-primary">
                                <div class="panel-heading">
                                    <b>{{vm.productToAdd.name}}</b>
                                </div>
                                <div class="panel-body">
                                    <div class="row">
                                        <div class="form-group col-md-4">
                                            <b>CANTIDAD A EGRESAR: </b>
                                            <input type="text" onkeypress="return ((event.which >= 48 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                                   ng-model="vm.quantity" class="form-control" maxlength="9">
                                        </div>
                                        <div class="form-group col-md-4">
                                            <b>COSTO UNITARIO ACTUAL: </b><br/>
                                            $ {{vm.productToAdd.costEach}}
                                        </div>
                                        <div class="form-group col-md-4">
                                            <b>COSTO PROMEDIO: </b>
                                            <input type="text"
                                                   ng-model="vm.productToAdd.averageCostSuggested" class="form-control">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Aceptar y Cerrar" class="btn btn-success btn-sm" ng-click="vm.acceptConsupmtionProduct(true)"
                            ng-disabled="vm.productToAdd === undefined">
                            <span class = "glyphicon glyphicon-thumbs-up" aria-hidden = "true"></span>
                    </button>
                    <button type="button" title="Aceptar y Agregar Mas productos" class="btn btn-primary btn-sm" ng-click="vm.acceptConsupmtionProduct(false)"
                            ng-disabled="vm.productToAdd === undefined">
                            <span class = "glyphicon glyphicon-ok-sign" aria-hidden = "true"></span>
                    </button>
                    <button type="button" title="Salir" class="btn btn-primary btn-sm" data-dismiss = "modal">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!--FIN DEL MODAL PARA AGREGAR PRODUCTOS-->
    <!--FIN DE EGRESO DESDE BODEGA-->

    <!--INICIO MODULO PARA CREAR PROOVEEDOR-->
    <div class="table-responsive" ng-show="vm.provider !== undefined">
        <div class="row">
            <div class="form-group col-md-12">
                <h4><b>Ingreso a Bodega</b></h4>
                <h4>Sucursal: {{vm.warehouseSubsidiaryName}}</h4>
                <h5><b>Bodega: {{vm.warehouseName}}</b></h5>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading">
                <b>Datos del Proveedor</b>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-4">
                        <label>C&oacute;digo: </label>
                        <input type="text" ng-model="vm.provider.codeIntegridad" class="form-control">
                    </div>
                    <div class="form-group col-md-8">
                        <label>Tipo de proveedor: </label>
                        <select ng-options="tipo as tipo for tipo in vm.providerType" ng-model="vm.provider.providerType"
                                class="form-control">
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>Tipo de Identificaci&oacute;n: </label>
                        <select ng-options="item.code as item.name for item in [{code:'CED', name:'CEDULA'}, {code:'RUC', name:'RUC'}, {code:'IEX', name:'IDENTIFICACIÓN EXTERIOR'}]"
                                ng-model="vm.provider.rucType" class="form-control">
                        </select>
                    </div>
                    <div class="form-group col-md-6" ng-show="vm.provider.rucType === 'CED'">
                        <label>C&eacute;dula: </label>
                        <input type="text" onkeypress="return ((event.which >= 48 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                               ng-model="vm.provider.ruc" class="form-control" maxlength="10">
                    </div>
                    <div class="form-group col-md-6" ng-show="vm.provider.rucType === 'RUC'">
                        <label>RUC: </label>
                        <input type="text" onkeypress="return ((event.which >= 48 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                               ng-model="vm.provider.ruc" class="form-control" maxlength="13">
                    </div>
                    <div class="form-group col-md-6" ng-show="vm.provider.rucType === 'IEX'">
                        <label>ID. Exterior: </label>
                        <input type="text" onkeypress="return ((event.which >= 48 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                               ng-model="vm.provider.ruc" class="form-control" maxlength="13">
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-12">
                        <label>Nombre Comercial: </label>
                        <input type="text" ng-model="vm.provider.name" class="form-control">
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-12">
                        <label>Raz&oacute;n Social: </label>
                        <input type="text" ng-model="vm.provider.razonSocial" class="form-control">
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-12">
                        <label>Direcci&oacute;n: </label>
                        <input type="text" ng-model="vm.provider.address1" class="form-control">
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>Pa&iacute;s: </label>
                        <input type="text" ng-model="vm.provider.country" class="form-control">
                    </div>
                    <div class="form-group col-md-6">
                        <label>Ciudad: </label>
                        <input type="text" ng-model="vm.provider.city" class="form-control">
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>Tel&eacute;fono: (incluir c&oacute;digo de provincia ej: 02) </label>
                        <input type="text" onkeypress="return ((event.which >= 48 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                               ng-model="vm.provider.phone" class="form-control" maxlength="9">
                    </div>
                    <div class="form-group col-md-6">
                        <label>Tel&eacute;fono celular: </label>
                        <input type="text" onkeypress="return ((event.which >= 48 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                               ng-model="vm.provider.celPhone" class="form-control" maxlength="10">
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>Email: </label>
                        <input type="text" ng-model="vm.provider.email" class="form-control">
                    </div>
                    <div class="form-group col-md-6">
                        <label>Contacto: </label>
                        <input type="text" ng-model="vm.provider.contact" class="form-control">
                    </div>
                </div>
            </div>
            <div class="panel-footer">
                <button type="button" title = "Guardar Proveedor" class="btn btn-success btn-sm" ng-click="vm.registerProvider()"
                        ng-disabled="vm.disableSaveProvider()">
                        <span class = "glyphicon glyphicon-floppy-save" aria-hidden = "true"></span>
                </button>
                <button type="button" title = "Salir" class="btn btn-primary btn-sm"
                        ng-click="vm.cancelProvider()">
                        <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                </button>
            </div>
        </div>
    </div>
    <!--FIN DE MODULO PARA CREAR PROVEEDOR-->

    <!-- INICIO MODULO DE INGRESO DE NUEVO PRODUCT -->
    <div class="form-group col-md-12" ng-show="vm.wizard !== undefined">
        <div class="header">
            <h4><b>Productos</b></h4>
        </div>
    </div>
    <div class="panel panel-primary" ng-show="vm.wizard === 1">
        <div class="panel-body">
            <div class="row">
                <div class="form-group col-md-12">
                    <label>Nombre *: </label>
                    <input type="text" ng-model="vm.product.name" class="form-control">
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-4">
                    <label>C&oacute;digo: <span style="color:gray;" title="Ultimo c&oacute;digo">{{vm.maxCode}}</span> </label>
                    <input type="text" ng-model="vm.product.codeIntegridad" class="form-control">
                </div>
                <div class="form-group col-md-4">
                    <label>Tipo de Producto: </label>
                    <select ng-options="type as type.name for type in vm.productTypes  | orderBy:'name'  track by type.id"
                            ng-model="vm.product.productType" class="form-control">
                    </select>
                </div>
                <div class="form-group col-md-4">
                    <label>Medida: </label>
                    <select ng-options="mess as mess.name for mess in vm.messurements  | orderBy:'name'  track by mess.shortName"
                            ng-model="vm.messurementSelected" ng-change="vm.setUnitOfMeasurementFull()" class="form-control"
                            ng-disabled="vm.product.productType.code === 'SER'">
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-12">
                    <label>Caracter&iacute;sticas: </label>
                    <textarea class="form-control" rows="3" id="comment" ng-model="vm.product.characteristics"></textarea>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-6">
                    <label>C&oacute;digo de Barras: </label>
                    <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                           ng-model="vm.productBarCode" ng-keypress="vm.fillBarCode($event)" class="form-control" maxlength="13">
                </div>
            </div>    
            <div class="row">
                <div class="form-group col-md-6">
                    <div class="row">
                        <div class="form-group col-md-8">
                            <label>Cuenta contable para la Venta: </label>
                            <input type="text" ng-model="vm.cuentaContableSale" class="form-control" typeahead-show-hint="true"
                            uib-typeahead="account as (account.description + ' - ' + account.code) for account in vm.cuentaContableList | orderBy:'name' | filter:$viewValue | limitTo:8">
                        </div>
                        <div class="form-group col-md-4">
                            <label>&nbsp;</label>
                            <button type="button" title = "Agregar Cuenta Contable" class="form-control btn btn-primary btn-sm" ng-click="vm.addCuentaContableSale()"
                                ng-disabled="vm.cuentasContablesForProductSale.length > 0">
                                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                            </button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-12">
                            <table class="table table-striped">
                                <thead>
                                <tr>
                                    <th>Nombre</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="ccp in vm.cuentasContablesForProductSale | orderBy:'name':true">
                                    <td>{{ccp.name}}</td>
                                    <td>
                                        <button type="button" title = "Siguiente" class="btn btn-primary btn-sm" ng-click="vm.removeCCSale(ccp)">
                                                <span class = "glyphicon glyphicon-minus" aria-hidden = "true"></span>
                                        </button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="form-group col-md-6">
                    <div class="row">
                        <div class="form-group col-md-8">
                            <label>Cuenta contable para el Egreso: </label>
                            <input type="text" ng-model="vm.cuentaContableConsume" class="form-control" typeahead-show-hint="true"
                            uib-typeahead="account as (account.description + ' - ' + account.code) for account in vm.cuentaContableList | orderBy:'name' | filter:$viewValue | limitTo:8">
                        </div>
                        <div class="form-group col-md-4">
                            <label>&nbsp;</label>
                            <button type="button" title = "Agregar Cuenta Contable" class="form-control btn btn-primary btn-sm" ng-click="vm.addCuentaContableConsume()"
                                ng-disabled="vm.cuentasContablesForProductConsume.length > 0">
                                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                            </button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-12">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Nombre</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="ccp in vm.cuentasContablesForProductConsume | orderBy:'name':true">
                                    <td>{{ccp.name}}</td>
                                    <td>
                                        <button type="button" title = "Siguiente" class="btn btn-primary btn-sm" ng-click="vm.removeCCConsume(ccp)">
                                            <span class = "glyphicon glyphicon-minus" aria-hidden = "true"></span>
                                        </button>
                                    </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-6">
                    <div class="row">
                        <div class="form-group col-md-8">
                            <label>Cuenta contable para el Producto Terminado: </label>
                            <input type="text" ng-model="vm.cuentaContableFinished" class="form-control" typeahead-show-hint="true"
                            uib-typeahead="account as (account.description + ' - ' + account.code) for account in vm.cuentaContableList | orderBy:'name' | filter:$viewValue | limitTo:8">
                        </div>
                        <div class="form-group col-md-4">
                            <label>&nbsp;</label>
                            <button type="button" title = "Agregar Cuenta Contable" class="form-control btn btn-primary btn-sm" ng-click="vm.addCuentaContableFinished()"
                                ng-disabled="vm.cuentasContablesForProductFinished.length > 0">
                                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                            </button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-12">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Nombre</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="ccp in vm.cuentasContablesForProductFinished | orderBy:'name':true">
                                        <td>{{ccp.name}}</td>
                                        <td>
                                            <button type="button" title = "Siguiente" class="btn btn-primary btn-sm" ng-click="vm.removeCCFinished(ccp)">
                                                    <span class = "glyphicon glyphicon-minus" aria-hidden = "true"></span>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="form-group col-md-6">
                    <div class="row">
                        <div class="form-group col-md-8">
                            <label>Cuenta contable para el Costo de Ventas: </label>
                            <input type="text" ng-model="vm.cuentaContableCost" class="form-control" typeahead-show-hint="true"
                            uib-typeahead="account as (account.description + ' - ' + account.code) for account in vm.cuentaContableList | orderBy:'name' | filter:$viewValue | limitTo:8">
                        </div>
                        <div class="form-group col-md-4">
                            <label>&nbsp;</label>
                            <button type="button" title = "Agregar Cuenta Contable" class="form-control btn btn-primary btn-sm" ng-click="vm.addCuentaContableCost()"
                                ng-disabled="vm.cuentasContablesForProductCost.length > 0">
                                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                            </button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-12">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Nombre</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="ccp in vm.cuentasContablesForProductCost | orderBy:'name':true">
                                        <td>{{ccp.name}}</td>
                                        <td>
                                            <button type="button" title = "Siguiente" class="btn btn-primary btn-sm" ng-click="vm.removeCCCost(ccp)">
                                                    <span class = "glyphicon glyphicon-minus" aria-hidden = "true"></span>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="panel-footer">
            <button type="button" title = "Siguiente" class="btn btn-primary btn-sm" ng-click="vm.wiz2()"
                    ng-disabled="vm.product.name === undefined">
                    <span class = "glyphicon glyphicon-arrow-right" aria-hidden = "true"></span>
            </button>
            <button type="button" title = "Salir" class="btn btn-primary btn-sm" ng-click="vm.cancelProduct()">
                    <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
            </button>
        </div>
    </div>

    <div class="panel panel-primary" ng-show="vm.wizard === 2">
        <div class="panel-body">
            <div class="row">
                <div class="form-group col-md-6">
                    <label>Marca: </label>
                    <select ng-options="brand as brand.name for brand in vm.brands  | orderBy:'name'  track by brand.id"
                            ng-model="vm.product.brand" class="form-control">
                    </select>
                </div>
                <div class="form-group col-md-3">
                    <label>&nbsp;</label>
                    <button type="button" title = "Crear Marcas" class="form-control btn btn-primary btn-sm" ng-click="vm.createBrand()"
                            data-toggle="modal" data-target="#modalCreateBrand">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                    </button>
                </div>
                <div class="form-group col-md-3">
                    <label>&nbsp;</label>
                    <button type="button" title = "Editar Marcas" class="form-control btn btn-primary btn-sm"
                            data-toggle="modal" data-target="#modalEditBrand">
                            <span class = "glyphicon glyphicon-pencil" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-6">
                    <label>L&iacute;nea: </label>
                    <select ng-options="lin as lin.name for lin in vm.lineas  | orderBy:'name'  track by lin.id"
                            ng-model="vm.selectedLine" class="form-control" ng-change="vm.getGroups()">
                    </select>
                </div>
                <div class="form-group col-md-3">
                    <label>&nbsp;</label>
                    <button type="button" title = "Crear Líneas" class="form-control btn btn-primary btn-sm" ng-click="vm.createLine()"
                            data-toggle="modal" data-target="#modalCreateLine" ng-disabled="vm.product.brand === undefined">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                    </button>
                </div>
                <div class="form-group col-md-3">
                    <label>&nbsp;</label>
                    <button type="button" title = "Editar Líneas" class="form-control btn btn-primary btn-sm"
                            data-toggle="modal" data-target="#modalEditLine" ng-disabled="vm.product.brand === undefined">
                            <span class = "glyphicon glyphicon-pencil" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-6">
                    <label>Grupo: </label>
                    <select ng-options="group as group.name for group in vm.groups  | orderBy:'name'  track by group.id"
                            ng-model="vm.selectedGroup" class="form-control" ng-change="vm.getSubGroups()">
                    </select>
                </div>
                <div class="form-group col-md-3">
                    <label>&nbsp;</label>
                    <button type="button" title = "Crear Grupo" class="form-control btn btn-primary btn-sm" ng-click="vm.createGroup()"
                            data-toggle="modal" data-target="#modalCreateGroup" ng-disabled="vm.selectedLine === undefined">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                    </button>
                </div>
                <div class="form-group col-md-3">
                    <label>&nbsp;</label>
                    <button type="button" title = "Editar Grupos" class="form-control btn btn-primary btn-sm"
                            data-toggle="modal" data-target="#modalEditGroup" ng-disabled="vm.selectedLine === undefined">
                            <span class = "glyphicon glyphicon-pencil" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-6">
                    <label>Subgrupo: </label>
                    <select ng-options="subgroup as subgroup.name for subgroup in vm.subGroups  | orderBy:'name'  track by subgroup.id"
                            ng-model="vm.product.subgroup" class="form-control">
                    </select>
                </div>
                <div class="form-group col-md-3">
                    <label>&nbsp;</label>
                    <button type="button" title = "Crear Subgrupo" class="form-control btn btn-primary btn-sm" ng-click="vm.createSubGroup()"
                            data-toggle="modal" data-target="#modalCreateSubGroup" ng-disabled="vm.selectedGroup === undefined">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                    </button>
                </div>
                <div class="form-group col-md-3">
                    <label>&nbsp;</label>
                    <button type="button" title = "Editar Subgrupos" class="form-control btn btn-primary btn-sm"
                            data-toggle="modal" data-target="#modalEditSubGroup" ng-disabled="vm.selectedGroup === undefined">
                            <span class = "glyphicon glyphicon-pencil" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
        <div class="panel-footer">
            <button type="button" title = "Atrás" class="btn btn-primary btn-sm" ng-click="vm.wizard = 1">
                    <span class = "glyphicon glyphicon-arrow-left" aria-hidden = "true"></span>
            </button>
            <button type="button" title = "Guardar Producto" class="btn btn-success btn-sm" ng-click="vm.saveProduct()"
                    data-toggle="modal" data-target="#modalAddProduct"
                    ng-disabled="vm.product.brand === undefined || vm.selectedLine === undefined || vm.selectedGroup === undefined || vm.product.subgroup === undefined">
                    <span class = "glyphicon glyphicon-floppy-save" aria-hidden = "true"></span>
            </button>
            <button type="button" title = "Salir" class="btn btn-primary btn-sm" ng-click="vm.cancelProduct()">
                    <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
            </button>
        </div>
    </div>

    <div class="panel panel-primary" ng-show="vm.wizard === 3">
        <div class="panel-body">
            <div class="row">
                <div class="form-group col-md-6">
                    <label>M&aacute;ximo / M&iacute;nimo: </label>
                    <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                        ng-model="vm.product.maxMinimun" class="form-control" maxlength="9" ng-disabled="vm.product.productType.code === 'SER'">
                </div>
                <div class="form-group col-md-6">
                    <label>Costo (promedio): </label>
                    <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                        ng-model="vm.product.averageCost" class="form-control" maxlength="9">
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-6">
                    <label>Ganancia % efectivo: </label>
                    <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                           ng-model="vm.product.cashPercentage" class="form-control" maxlength="9">
                </div>
                <div class="form-group col-md-6">
                    <label>Ganancia % cr&eacute;dito: </label>
                    <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                           ng-model="vm.product.creditPercentage" class="form-control" maxlength="9">
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-6">
                    <label>Ganancia % tarjeta: </label>
                    <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                           ng-model="vm.product.cardPercentage" class="form-control" maxlength="9">
                </div>
                <div class="form-group col-md-6">
                    <label>Ganancia % mayorista: </label>
                    <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                           ng-model="vm.product.majorPercentage" class="form-control" maxlength="9">
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-6">
                    <label>IVA: </label>
                    <input class="pull-right" ng-model="vm.product.iva" type="checkbox">
                </div>
                <div class="form-group col-md-6">
                    <label>ICE: </label>
                    <input class="pull-right" ng-model="vm.product.ice" type="checkbox">
                </div>
            </div>

            <div class="row">
                <div class="form-group col-md-3">
                    <label>Costo sin IVA:</label><br/>
                    <p>{{vm.costPreview()}}</p>
                </div>
                <div class="form-group col-md-3">
                    <label>Costo + IVA:</label><br/>
                    <p>{{vm.costIvaPreview()}}</p>
                </div>
            </div>
        </div>
        <div class="panel-footer">
            <button type="button" title = "Atrás" class="btn btn-primary btn-sm" ng-click="vm.wizard = 2">
                    <span class = "glyphicon glyphicon-arrow-left" aria-hidden = "true"></span>
            </button>
            <button type="button" title = "Guardar Producto" class="btn btn-success btn-sm" ng-click="vm.save()">
                    <span class = "glyphicon glyphicon-floppy-save" aria-hidden = "true"></span>
            </button>
            <button type="button" title = "Salir" class="btn btn-primary btn-sm" ng-click="vm.cancelProduct()">
                    <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
            </button>
        </div>
    </div>

    <div id="modalCreateBrand" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" ng-click="vm.newBrand=undefined">&times;</button>
                    <h4 class="modal-title">Crear Marca</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-12">
                            <label>Nombre : </label>
                            <input type="text" ng-model="vm.newBrand.name" class="form-control">
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label>C&oacute;digo: </label>
                            <input type="text" ng-model="vm.newBrand.code" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title = "Aceptar" class="btn btn-success btn-sm" ng-click="vm.saveNewBrand()" data-dismiss="modal">
                            <span class = "glyphicon glyphicon-thumbs-up" aria-hidden = "true"></span>
                    </button>
                    <button type="button" title = "Salir" class="btn btn-primary btn-sm" ng-click="vm.newBrand = undefined" data-dismiss="modal">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="modalEditBrand" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Marcas</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-12">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Marca</th>
                                        <th>C&oacute;digo</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="brand in vm.brands">
                                        <td>{{brand.name}}</td>
                                        <td>{{brand.code}}</td>
                                        <td>
                                            <button type="button" class="btn btn-primary btn-sm" title="Eliminar"
                                                    ng-click="vm.deleteBrand(brand)">
                                                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title = "Salir" class="btn btn-primary btn-sm" data-dismiss="modal">
                        <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="modalCreateLine" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" ng-click="vm.newLine=undefined">&times;</button>
                    <h4 class="modal-title">Crear L&iacute;nea</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-12">
                            <label>Nombre : </label>
                            <input type="text" ng-model="vm.newLine.name" class="form-control">
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label>C&oacute;digo: </label>
                            <input type="text" ng-model="vm.newLine.code" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title = "Aceptar" class="btn btn-success btn-sm" ng-click="vm.saveNewLine()" data-dismiss="modal">
                            <span class = "glyphicon glyphicon-thumbs-up" aria-hidden = "true"></span>
                    </button>
                    <button type="button" title = "Salir" class="btn btn-primary btn-sm" ng-click="vm.newLine = undefined" data-dismiss="modal">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="modalEditLine" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" >&times;</button>
                    <h4 class="modal-title">L&iacute;neas</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-12">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>L&iacute;nea</th>
                                        <th>C&oacute;digo</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="line in vm.lineas">
                                        <td>{{line.name}}</td>
                                        <td>{{line.code}}</td>
                                        <td>
                                            <button type="button" title = "Eliminar" class="btn btn-primary btn-sm" ng-click="vm.deleteLine(line)">
                                                    <span class = "glyphicon glyphicon-trash" aria-hidden = "true"></span>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Salir" class="btn btn-primary btn-sm" data-dismiss="modal">
                            <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="modalCreateGroup" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" ng-click="vm.newGroup=undefined">&times;</button>
                    <h4 class="modal-title">Crear Grupo</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-12">
                            <label>Nombre : </label>
                            <input type="text" ng-model="vm.newGroup.name" class="form-control">
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label>C&oacute;digo: </label>
                            <input type="text" ng-model="vm.newGroup.code" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Aceptar" class="btn btn-success btn-sm" ng-click="vm.saveNewGroup()" data-dismiss="modal">
                            <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                    </button>
                    <button type="button" title="Salir" class="btn btn-primary btn-sm" ng-click="vm.newGroup = undefined" data-dismiss="modal">
                            <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="modalEditGroup" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" >&times;</button>
                    <h4 class="modal-title">Grupos</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-12">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Grupo</th>
                                        <th>C&oacute;digo</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="group in vm.groups">
                                    <td>{{group.name}}</td>
                                    <td>{{group.code}}</td>
                                    <td>
                                        <button type="button" title="Eliminar" class="btn btn-primary btn-sm" ng-click="vm.deleteGroup(group)">
                                                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                        </button>
                                    </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Salir" class="btn btn-primary btn-sm" data-dismiss="modal">
                            <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="modalCreateSubGroup" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" ng-click="vm.newSubGroup=undefined">&times;</button>
                    <h4 class="modal-title">Crear Subgrupo</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-12">
                            <label>Nombre : </label>
                            <input type="text" ng-model="vm.newSubGroup.name" class="form-control">
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label>C&oacute;digo: </label>
                            <input type="text" ng-model="vm.newSubGroup.code" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Aceptar" class="btn btn-success btn-sm" ng-click="vm.saveNewSubGroup()" data-dismiss="modal">
                            <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                    </button>
                    <button type="button" title="Salir" class="btn btn-primary btn-sm" ng-click="vm.newSubGroup = undefined" data-dismiss="modal">
                            <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="modalEditSubGroup" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" >&times;</button>
                    <h4 class="modal-title">Editar Subgrupos</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-12">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th> Subgrupo </th>
                                        <th> C&oacute;digo</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="subgroup in vm.subGroups">
                                        <td>{{subgroup.name}}</td>
                                        <td>{{subgroup.code}}</td>
                                        <td>
                                            <button type="button" title="Eliminar" class="btn btn-primary btn-sm" ng-click="vm.deleteSubGroup(subgroup)">
                                                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Salir" class="btn btn-primary btn-sm" data-dismiss="modal">
                            <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- FIN MODULO DE INGRESO DE NUEVO PRODUCTO -->

    <!--REPORTE DE KARDEX-->
    <div class="table-responsive" ng-show="vm.selectedKardex !== undefined">
        <div class="row">
            <div class="form-group col-md-12">
                <h4><b>Reporte Kardex por Producto</b></h4>
            </div>
        </div>
        <div class="row" ng-if="vm.isProductReportList != undefined">
            <div class="form-group col-md-10">
                <h5><b>Producto: </b>{{vm.prodKarName}}</h5>
            </div>
            <div class="form-group col-md-2">
                <button type="button" title="Exportar a Hoja Excel" class="btn btn-primary btn-sm" ng-click="vm.exportExcel()">
                        Excel
                </button>
            </div>
        </div>
        <div class="row" ng-show="vm.productListKar !== undefined">
            <div class="form-group col-md-12">
                <div class="form-group col-md-10">
                    <input ng-model="vm.searchTextKar" ng-keypress="vm.filterEventKar($event)" class="form-control" placeholder="Buscar" />
                </div>
                <div class="form-group col-md-2">
                    <button type="button" title="Buscar Producto" class="btn btn-primary" ng-click="vm.filterKar()">
                            <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                </div>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>C&oacute;digo</th>
                            <th>Nombre</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-show="vm.productListKar == 0">
                            <td colspan="4">
                                No hay productos ingresados
                            </td>
                        </tr>
                        <tr ng-repeat="productKar in vm.productListKar | orderBy:'name'">
                            <td>{{productKar.codeIntegridad}}</td>
                            <td>{{productKar.name}}</td>
                            <td>
                                <button type="button" title="Seleccionar" class="btn btn-primary btn-sm"
                                        ng-click="vm.selectProductForKardex(productKar)" data-toggle="modal" data-target="#modalSelectKardexProduct">
                                        <span class="glyphicon glyphicon-check" aria-hidden="true"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <nav aria-label="Page navigation example">
                    <ul class="pagination pagination-sm">
                        <li class="page-item" ng-repeat="page in vm.rangeKar() track by $index" ng-class="vm.getActiveClassKar($index)">
                            <a class="page-link" ng-click="vm.paginateKar($index)">{{$index + 1}}</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="table-responsive" ng-if="vm.isProductReportList === '1'">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>Nombre</th>
                        <th>Descripci&oacute;n</th>
                        <th>Entradas</th>
                        <th>Salidas</th>
                        <th>Saldo</th>
                        <th>Costo Compra</th>
                        <th>Costo Promedio</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="data in vm.reportList | orderBy:'code'" >
                        <td>{{data.fecha}}</td>
                        <td>{{data.prodName}}</td>
                        <td>{{data.detalle}}</td>
                        <td>{{data.entrada.toFixed(2)}}</td>
                        <td>{{data.salida.toFixed(2)}}</td>
                        <td>{{data.saldo.toFixed(2)}}</td>
                        <td>{{data.compra.toFixed(2)}}</td>
                        <td>{{data.promedio.toFixed(2)}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="row">
            <div class="form-group col-md-12">
                <button type="button" title="Volver" class="btn btn-primary btn-sm"
                        ng-click="vm.cancelKardex()">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>
    <!--MODAL DE SELECCION DE PRODUCTO, FECHAS-->
    <div id="modalSelectKardexProduct" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type = "button" class = "close" data-dismiss = "modal">&times;</button>
                    <h4 class = "modal-title">Reporte de Kardex por Producto</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-5 ">
                            <label>FECHA INICIO: </label>
                            <div class="input-group date" id="pickerKardexDateOne">
                                <input type="text" class="form-control input-group-addon"/>
                                <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"/></span>
                            </div>
                            <script>
                                $('#pickerKardexDateOne').datetimepicker({
                                    format: "DD/MM/YY",
                                });
                            </script>
                        </div>                
                        <div class="form-group col-md-5 ">
                            <label>FECHA FIN: </label>
                            <div class="input-group date" id="pickerKardexDateTwo">
                                <input type="text" class="form-control input-group-addon"/>
                                <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"/></span>
                            </div>
                            <script>
                                $('#pickerKardexDateTwo').datetimepicker({
                                    format: "DD/MM/YY",
                                });
                            </script>
                        </div>
                        <div class="form-group col-md-2">
                            <br/>
                            <button type="button" title="Aceptar" class="btn btn-success btn-sm" 
                                    ng-click="vm.getKardexReportForProduct()" data-dismiss="modal">
                                    <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Salir" class="btn btn-primary btn-sm" data-dismiss="modal">
                            <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--AJUSTE DE PRODUCTOS PARA KARDEX-->
    <div class="table-responsive" ng-show="vm.selectedForSetting !== undefined">
        <div class="row">
            <div class="form-group col-md-12">
                <h4><b>Ajuste Kardex por Producto</b></h4>
            </div>
        </div>
        <div class="row" ng-show="vm.productListSet !== undefined">
            <div class="form-group col-md-12">
                <div class="form-group col-md-10">
                    <input id="prod013" ng-model="vm.searchTextSet" ng-keypress="vm.filterEventSet($event)" class="form-control" placeholder="Buscar" />
                </div>
                <div class="form-group col-md-2">
                    <button type="button" title="Buscar Producto" class="btn btn-primary" ng-click="vm.filterSet()">
                            <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                </div>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>C&oacute;digo</th>
                            <th>Nombre</th>
                            <th>Precio Unitario $</th>
                            <th>Costo Promedio $</th>
                            <th>Cantidad Disponible</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-show="vm.productListSet == 0">
                            <td colspan="4">
                                No hay productos ingresados
                            </td>
                        </tr>
                        <tr ng-repeat="productSet in vm.productListSet | orderBy:'name'">
                            <td>{{productSet.codeIntegridad}}</td>
                            <td>{{productSet.name}}</td>
                            <td>{{productSet.costEach.toFixed(2)}}</td>
                            <td>{{productSet.averageCostSuggested.toFixed(2)}}</td>
                            <td>{{productSet.quantity}}</td>
                            <td>
                                <button type="button" title="Ajustar Cantidad" class="btn btn-primary btn-sm"
                                        ng-click="vm.selectProductForSetting(productSet)" data-toggle="modal" data-target="#modalSettingForKardex">
                                        <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <nav aria-label="Page navigation example">
                    <ul class="pagination pagination-sm">
                        <li class="page-item" ng-repeat="page in vm.rangeSet() track by $index" ng-class="vm.getActiveClassSet($index)">
                            <a class="page-link" ng-click="vm.paginateSet($index)">{{$index + 1}}</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-12">
                <button type="button" title="Volver" class="btn btn-primary btn-sm"
                        ng-click="vm.cancelSetting()">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>
    <!--MODAL AJUSTE PARA KARDEX-->
    <div id="modalSettingForKardex" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type = "button" class = "close" data-dismiss = "modal">&times;</button>
                    <h4 class = "modal-title"><b>Ajuste Kardex por Producto</b></h4>
                    <h5 class = "modal-title">{{vm.prodSetName}}</h5>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-5 ">
                            <label>FECHA AJUSTE: </label>
                            <div class="input-group date" id="pickerSettingKardexDate">
                                <input type="text" class="form-control input-group-addon"/>
                                <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"/></span>
                            </div>
                            <script>
                                $('#pickerSettingKardexDate').datetimepicker({
                                    format: "DD/MM/YY",
                                });
                            </script>
                        </div>                        
                        <div class="form-group col-md-5">
                            <label>Tipo de Ajuste:</label>
                            <select ng-options="setprod.name as setprod.name for setprod in [{code: 'ING' ,name:'INGRESO'}, {code: 'EGR', name:'EGRESO'}]"
                                    ng-model="vm.setObserva" class="form-control">
                            </select>
                        </div>
                        <div class="form-group col-md-4">
                            <label>Cantidad para Ajuste:</label>
                            <input type="text" ng-model="vm.kardex.prodQuantity" class="form-control">
                        </div>
                        <div class="form-group col-md-4">
                            <label>Costo Unitario:</label>
                            <input type="text" ng-model="vm.prodSetCostEach" class="form-control">
                        </div>
                        <div class="form-group col-md-10">
                            <label>Observación:</label>
                            <input type="text" ng-model="vm.setDetalle" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Aceptar" class="btn btn-success btn-sm" ng-disabled="vm.setDetalle === undefined"
                            ng-click="vm.saveKardex()" data-dismiss="modal">
                            <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                    </button>
                    <button type="button" title="Salir" class="btn btn-primary btn-sm" data-dismiss="modal">
                            <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--MODAL ANULAR INGRESO-->
    <div id="modalAnular" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" ng-click="vm.product=undefined">&times;</button>
                    <h4 class="modal-title">Advertencia</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12" >
                            Esta seguro que desea Anular el Ingreso a Bodega No. {{vm.cellar.whNumberSeq}}
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Anular" class="btn btn-primary btn-sm" ng-click="vm.inactivateCellar()" data-dismiss="modal">
                            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>