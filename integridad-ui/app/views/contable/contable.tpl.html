<div style="width: 100%; height: 100%; top: 0px; left: 0px; position: fixed; display: block; z-index: 99" ng-show="vm.loading">
    <div style="position: absolute; top: 15%; z-index: 100; width: 100%; text-align: center;">
        <div class="sk-circle">
        <div class="sk-circle1 sk-child"></div>
        <div class="sk-circle2 sk-child"></div>
        <div class="sk-circle3 sk-child"></div>
        <div class="sk-circle4 sk-child"></div>
        <div class="sk-circle5 sk-child"></div>
        <div class="sk-circle6 sk-child"></div>
        <div class="sk-circle7 sk-child"></div>        
        <div class="sk-circle8 sk-child"></div>
        <div class="sk-circle9 sk-child"></div>
        <div class="sk-circle10 sk-child"></div>
        <div class="sk-circle11 sk-child"></div>
        <div class="sk-circle12 sk-child"></div>
        </div>
    </div>
</div>

<div class="form-group col-md-12">
    <div class="header">
        <h4><b>Contabilidad</b></h4>
    </div>
    <div class="row" ng-show="vm.error != undefined">
        <div class = "form-group col-md-12">
            <div class = "alert alert-danger">{{vm.error}}</div>
        </div>
    </div>
    <div class = "row" ng-show = "vm.success != undefined">
        <div class = "form-group col-md-12">
            <div class = "alert alert-success">{{vm.success}}</div>
        </div>
    </div>

    <!--SELECCIÓN DE TIPO DE DIARIO-->
    <div class="row" ng-show="vm.selectedTypeBook === undefined">
        <div class="form-group col-md-4">
            <label>Seleccione tipo de Diario:</label><br/>
            <select ng-options="deta.code as deta.type for deta in vm.typeBookList"
                    ng-model="vm.dailybookType" class="form-control">
            </select>
        </div>
        <div class="form-group col-md-4">
            <br/>
            <button type="button" title="Continuar" class="btn btn-primary btn-sm" ng-click="vm.loadTypeDailybook()">
                    <span class = "glyphicon glyphicon-ok" aria-hidden = "true"></span>
            </button>
        </div>
    </div>
    <!--FIN SELECCIÓN DE TIPO DE DIARIO-->
    
    <!--DIARIO DE CONTABILIDAD GENERAL-->
    <div class="table-responsive" ng-show="vm.selectedTypeBook === '1' && vm.templateDailybookCg === undefinded && vm.dailybookCgCreated === undefinded && vm.dailybookCgList !== undefined">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <b>DIARIO DE CONTABILIDAD GENERAL</b>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-10">
                        <input ng-model="searchText" class="form-control" placeholder="Buscar">
                    </div>
                    <div class="form-group col-md-2">
                        <button type="button" title="Agregar Nuevo Diario" class="btn btn-primary btn-sm" ng-click="vm.addDailybookCg()">
                                <span class = "glyphicon glyphicon-book" aria-hidden = "true"></span>
                        </button>
                    </div>
                </div>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>N&uacute;mero</th>
                            <th>Fecha</th>
                            <th>Descripci&oacute;n</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-show="vm.dailybookCgList == 0">
                            <td colspan="4">
                                No hay Diarios de Contabilidad General ingresados...
                            </td>
                        </tr>
                        <tr ng-repeat="dailyCg in vm.dailybookCgList | orderBy:'payNumber':true">
                            <td>{{dailyCg.dailyCgStringSeq}}</td>
                            <td>{{dailyCg.dateRecordBook | date : "dd/MM/yyyy"}}</td>
                            <td>{{dailyCg.generalDetail}}</td>
                            <td>
                                <button type = "button" title = "Ver Diario de Contabilidad General" class = "btn btn-primary btn-sm" 
                                        ng-click = "vm.dailybookCgSelected(dailyCg)">
                                        <span class = "glyphicon glyphicon-eye-open" aria-hidden = "true"></span>
                                </button>
                                <button type = "button" title = "Anular Diario de Contabilidad General" ng-show = "dailyCg.active !== false"
                                        class = "btn btn-warning btn-sm" ng-click = "vm.deactivateDailyBookCg = dailyCg"
                                        data-toggle = "modal" data-target = "#modalAnularDailyBookCg">
                                        <span class = "glyphicon glyphicon-warning-sign" aria-hidden = "true"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="panel-footer">
                <button type="button" title="Volver" class="btn btn-primary btn-sm"
                        ng-click="vm.cancel()">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--ANULAR DIARIO DE CONTABILIDAD GENERAL-->
    <div id="modalAnularDailyBookCg" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h3 class="modal-title">¡¡¡Advertencia!!!</h3>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12" >
                            <p>¿Est&aacute; seguro que desea Anular el Diario de Contabilidad General <b>No. {{vm.deactivatedailybookCg.dailyCgStringSeq}}</b>?</p>
                            <p>Recuerde que el Diario de Contabilidad General <b>NO puede ser Recuperado</b></p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title = "Salir" class="btn btn-primary btn-sm" data-dismiss="modal">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                    <button type="button" title="Anular Diario de Contabilidad General" class="btn btn-danger btn-sm" ng-click="vm.dailybookCgDeactivate()" data-dismiss="modal">
                            <span class = "glyphicon glyphicon-screenshot" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="form-group col-md-12" ng-show="vm.dailybookCgTemp === true">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h4>Ingreso de Diario de Contabilidad General</h4>
                <div>
                    <b>Diario de Contabilidad General Nro: </b>{{vm.dailyCgStringSeq}}
                </div>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>Fecha: </label>
                        <div class="input-group date" id="pickerDateRecordBookCg">
                            <input type="text" class="form-control input-group-addon"/>
                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"/></span>
                        </div>
                        <script>
                            var defaultDate = new Date();
                            $('#pickerDateRecordBookCg').datetimepicker({format: "DD/MM/YY",});
                        </script>
                    </div>
                    <div class="form-group col-md-6">
                        <label>N&uacute;mero de Referencia:</label><br/>
                        <input type="text" ng-model="vm.dailybookCg.dailyCgStringUserSeq" 
                               class="form-control" maxlength="20"/>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-12">
                        <b>DETALLE GENERAL:</b>
                        <input type="text" ng-model="vm.generalDetailCg" class="form-control">
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6" ng-if="vm.dailybookCgNew">
                        <label>Cuentas Contables: </label>
                        <label class="radio-inline"><input type="checkbox" ng-model="vm.cuenta"
                               ng-change="vm.getCuentasContablesCg()"></label>
                    </div>
                </div>
                <div class="row table-responsive" ng-show="vm.cuentaContableList !== undefined">
                    <div class="form-group col-md-12">
                        <input ng-model="searchTextTaxes" class="form-control" placeholder="Buscar">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Tipo de Cuenta</th>
                                    <th>Nombre G&eacute;nerico</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-show="vm.cuentaContableList == 0">
                                    <td colspan="2">
                                        No hay Fuente Seleccionada
                                    </td>
                                </tr>
                                <tr dir-paginate = "cuenta in vm.cuentaContableList | orderBy:'type' | filter:searchTextTaxes | itemsPerPage: 5" pagination-id = "taxesPagination">
                                    <td>{{cuenta.accountType}}</td>
                                    <td>{{cuenta.name}}</td>
                                    <td>
                                        <button type = "button" title = "Seleccionar" class = "btn btn-primary btn-sm"
                                                ng-click = "vm.selectCuentasCg(cuenta)" data-toggle = "modal" data-target = "#modalSelectedCuentasCg">
                                                <span class = "glyphicon glyphicon-check" aria-hidden = "true"></span>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <dir-pagination-controls pagination-id = "taxesPagination"></dir-pagination-controls>
                    </div>
                </div>
                <div class = "row table-responsive">
                    <div class = "form-group col-md-12">
                        <table class = "table table-striped">
                            <thead>
                                <tr>
                                    <th>CODIGO</th>
                                    <th>CUENTA ASOCIADA</th>
                                    <th>DESCRIPCION</th>
                                    <th>TIPO</th>
                                    <th>VALOR</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-show = "vm.dailybookCg.detailDailybookContab == 0">
                                    <td colspan = "5">
                                        No hay Fuente Seleccionada
                                    </td>
                                </tr>
                                <tr ng-repeat = "detail in vm.dailybookCg.detailDailybookContab" >
                                    <td>{{detail.codeConta}}</td>
                                    <td>{{detail.descrip}}</td>
                                    <td>{{detail.name}}</td>
                                    <td>{{detail.tipo}}</td>
                                    <td>{{detail.baseImponible}}</td>
                                    <td>
                                        <button type = "button" title = "Editar" class = "btn btn-primary btn-sm"
                                                ng-click = "vm.editItemCg($index)" data-toggle = "modal" data-target = "#modalEditCuentasCg">
                                                <span class = "glyphicon glyphicon-pencil" aria-hidden = "true"></span>
                                        </button>
                                        <button type = "button" title = "Eliminar" class = "btn btn-primary btn-sm"
                                                ng-click = "vm.deleteItemCg($index)">
                                                <span class = "glyphicon glyphicon-trash" aria-hidden = "true"></span>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>DEBE: {{vm.getTotalDebitoCg()}}</td>
                                    <td>HABER: {{vm.getTotalCreditoCg()}}</td>
                                    <td><b>SALDO: {{vm.getTotalSaldoCg()}}</b></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div> 
                </div>
            </div>
            <div class="panel-footer">
                <button type="button" title="Guardar Diario" class="btn btn-primary btn-sm" ng-if="vm.dailybookCgNew"
                        ng-click="vm.saveDailybookCg()" ng-disabled = "vm.dailybookCg.detailDailybookContab == 0 || vm.getTotalSaldoCg() != 0.00">
                        <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>
                </button>
                <button type="button" title="Volver" class="btn btn-primary btn-sm"
                        ng-click="vm.cancel()">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--IMPRESIÓN DE DIARIO DE CONTABILIDAD GENERAL-->
    <div class="table-responsive" ng-show="vm.dailybookCgCreated" id="printArea" print-section>
        <div class="panel panel-primary">
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-12 ">
                        <table width="100%">
                            <tr>
                                <td width="20%" align="center"><img src="images/{{vm.userData.subsidiary.userClient.logo}}"><br></td>
                                <td width="80%" rowspan="2">
                                    <div style="padding:0px 15px;">
                                        <b>{{vm.userData.subsidiary.userClient.name}}</b><br/>
                                        <b>{{vm.userData.subsidiary.userClient.address1}}</b><br/>
                                        <b>Tel&eacute;fono: {{vm.userData.subsidiary.phone}} - {{vm.userData.subsidiary.userClient.email}}</b><br/>
                                        <b>RUC: {{vm.userData.subsidiary.userClient.ruc}}</b>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-12 ">
                        <table width="100%">
                            <tr>
                                <td align="center">
                                    <div>
                                        <h4>
                                            <label>COMPROBANTE DE DIARIO Nro: </label>
                                            {{vm.dailybookCg.dailyCgStringSeq}}
                                        </h4>
                                    </div>
                                </td>
                            </tr>
                        </table>
                        <table width="100%">
                            <tr>
                                <td width="25%">
                                    <div>
                                        <label>Fecha: </label>
                                        {{vm.dailybookCg.dateRecordBook | date : "dd-MM-yyyy"}}
                                    </div>
                                </td>
                                <td width="75%">
                                    <div>
                                        <label>Detalle: </label>
                                        {{vm.dailybookCg.generalDetail}}
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-12">
                        <table width="100%" border="1">
                            <tr>
                                <td><b>CUENTA</b></td>
                                <td><b>NOMBRE CUENTA</b></td>
                                <td><b>DESCRIPCIÓN</b></td>
                                <td><b>DEBE</b></td>
                                <td><b>HABER</b></td>
                            </tr>
                            <tr ng-repeat="detail in vm.dailybookCg.detailDailybookContab">
                                <td>{{detail.codeConta}}</td>
                                <td>{{detail.descrip}}</td>
                                <td>{{detail.name}}</td>
                                <td>{{detail.deber}}</td>
                                <td>{{detail.haber}}</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td><b>TOTALES:</b></td>
                                <td>{{vm.getTotalDebitoCgCreated()}}</td>
                                <td>{{vm.getTotalCreditoCgCreated()}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <table width="100%">
                            <tr>
                                <td width="33%" align="center">
                                    <br/><br/>
                                    _____________<br/>
                                    AUTORIZADO
                                </td>
                                <td width="33%" align="center">
                                    <br/><br/>
                                    ___________<br/>
                                    CONTADOR
                                </td>
                                <td width="33%" align="center">
                                    <br/><br/>
                                    ________________<br/>
                                    CONTABILIZADO
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="row" print-remove>
                    <div class="form-group col-md-12">
                        <button print-btn type="button" title = "Imprimir Comprobante de Diario" class="btn btn-primary btn-sm"
                                ng-show="vm.activeCg === true" ng-click="vm.cancelDailybookCgCreated()">
                                <span class = "glyphicon glyphicon-print" aria-hidden = "true"></span>
                        </button>
                        <button type="button" title = "Salir" class="btn btn-primary btn-sm"
                                ng-click="vm.cancelDailybookCgCreated()">
                                <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--SELECCION DE LAS CUENTAS CONTABLES-->
    <div id="modalSelectedCuentasCg" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" ng-click="vm.impuesto=undefined">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-2">
                            <label>C&oacute;digo:</label>  
                            <b>{{vm.item.codeConta}}</b>
                        </div>
                        <div class="form-group col-md-5">
                            <label>Descripci&oacute;n:</label><br/>
                            <input type="text" class="form-control" ng-model="vm.item.name"/>
                        </div>
                        <div class="form-group col-md-3">
                            <label>Tipo de Cuenta:</label>
                            <select ng-options="tip.name as tip.name for tip in [{code: 'DEB' ,name:'DEBITO (D)'}, {code: 'CRD', name:'CREDITO (C)'}]"
                                    ng-model="vm.item.tipo" class="form-control">
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label>Valor</label>
                            <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                   class="form-control" maxlength="9" ng-model="vm.item.baseImponible"/>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Aceptar" class="btn btn-success btn-sm" data-dismiss="modal" ng-click="vm.addItemCg()">
                            <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                    </button>
                    <button type="button" title="Salir" class="btn btn-primary btn-sm" data-dismiss="modal"
                            ng-click="vm.item = undefined; vm.indexEdit = undefined;">
                            <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="modalEditCuentasCg" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" ng-click="vm.impuesto=undefined">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-2">
                            <label>C&oacute;digo:</label>  
                            <b>{{vm.item.codeConta}}</b>
                        </div>
                        <div class="form-group col-md-5">
                            <label>Descripci&oacute;n:</label><br/>
                            <input type="text" class="form-control" ng-model="vm.item.name"/>
                        </div>
                        <div class="form-group col-md-3">
                            <label>Tipo de Cuenta:</label>
                            <select ng-options="tip.name as tip.name for tip in [{code: 'DEB' ,name:'DEBITO (D)'}, {code: 'CRD', name:'CREDITO (C)'}]"
                                    ng-model="vm.item.tipo" class="form-control">
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label>Valor</label>
                            <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                   class="form-control" maxlength="9" ng-model="vm.item.baseImponible"/>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Aceptar" class="btn btn-success btn-sm" data-dismiss="modal" ng-click="vm.addItemCg()">
                            <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                    </button>
                    <button type="button" title="Salir" class="btn btn-primary btn-sm" data-dismiss="modal"
                            ng-click="vm.item = undefined; vm.indexEdit = undefined;">
                            <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!--FIN DE DIARIO DE CONTABILIDAD GENERAL-->

    <!--INICIO DE DIARIO DE COMPROBANTE DE EGRESO-->
    <!--CARGA DE PROVEEDORES PARA DIARIO DE COMPROBANTE DE EGRESO-->
    <div class="table-responsive" ng-show="vm.selectedTypeBook === '2' && vm.providerCeSelected === undefined && vm.dailybookCeCreated === undefinded && vm.dailybookCeList === undefined && vm.dailybookCeManualCreatedList === undefined && vm.dailybookCeManual === false">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <b>DIARIO DE COMPROBANTE DE EGRESO</b>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-10">
                        <input ng-model="searchText" class="form-control" placeholder="Buscar Proveedores">
                    </div>
                    <div class="form-group col-md-2">
                        <button type = "button" title = "Comprobante de Egreso Manual" class = "btn btn-success btn-sm" ng-click = "vm.manualDailybookCe()">
                            <span class = "glyphicon glyphicon-book" aria-hidden = "true"></span>
                        </button>
                        <button type = "button" title = "Consultar Comprobante de Egreso Manual" class = "btn btn-success btn-sm" ng-click = "vm.consultManualDailybookCe()">
                            <span class = "glyphicon glyphicon-search" aria-hidden = "true"></span>
                        </button>
                    </div>
                </div>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>C&oacute;digo</th>
                            <th>Nombre</th>
                            <th>No. Identidad</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-show="vm.providerCeList == 0">
                            <td colspan="4">
                                No hay proveedores ingresados
                            </td>
                        </tr>
                        <tr ng-repeat="provider in vm.providerCeList | orderBy:'name' | filter:searchText">
                            <td>{{provider.codeIntegridad}}</td>
                            <td>{{provider.name}}</td>
                            <td>{{provider.rucType}} - {{provider.ruc}}</td>
                            <td>
                                <button type = "button" title = "Nuevo Diario Comprobante de Egreso" class = "btn btn-primary btn-sm" ng-click = "vm.providerCeSelect(provider)">
                                        <span class = "glyphicon glyphicon-book" aria-hidden = "true"></span>
                                </button>
                                <button type = "button" title = "Consultar Diario Comprobante de Egreso" class = "btn btn-primary btn-sm" ng-click = "vm.consultDailybookCe(provider)">
                                        <span class = "glyphicon glyphicon-search" aria-hidden = "true"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="panel-footer">
                <button type="button" title="Volver" class="btn btn-primary btn-sm"
                        ng-click="vm.cancel()">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>
    <div class="table-responsive" ng-show="vm.dailybookCeList !== undefined">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <b>COMPROBANTES DE EGRESO POR PROVEEDOR</b>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-11">
                        <input ng-model="searchText" class="form-control" placeholder="Buscar">
                    </div>
                </div>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>N&uacute;mero</th>
                            <th>Fecha</th>
                            <th>Descripci&oacute;n</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-show="vm.dailybookCeList == 0">
                            <td colspan="4">
                                No hay Comprobantes de Egreso ingresados...
                            </td>
                        </tr>
                        <tr ng-repeat="dailyCe in vm.dailybookCeList | orderBy:'dailyCeStringSeq':true">
                            <td>{{dailyCe.dailyCeStringSeq}}</td>
                            <td>{{dailyCe.dateRecordBook | date : "dd/MM/yyyy"}}</td>
                            <td>{{dailyCe.generalDetail}}</td>
                            <td>
                                <button type = "button" title = "Ver Comprobante de Egreso" class = "btn btn-primary btn-sm" 
                                        ng-click = "vm.dailybookCeSelected(dailyCe)">
                                        <span class = "glyphicon glyphicon-eye-open" aria-hidden = "true"></span>
                                </button>
                                <button type = "button" title = "Anular Comprobante de Egreso" ng-show = "dailyCe.active !== false"
                                        class = "btn btn-warning btn-sm" ng-click = "vm.deactivatedailybookCe = dailyCe"
                                        data-toggle = "modal" data-target = "#modalAnularDailyBookCe">
                                        <span class = "glyphicon glyphicon-warning-sign" aria-hidden = "true"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="panel-footer">
                <button type="button" title="Volver" class="btn btn-primary btn-sm"
                        ng-click = "vm.dailybookCeList = undefined">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--ANULAR COMPROBANTE DE EGRESO-->
    <div id="modalAnularDailyBookCe" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h3 class="modal-title">¡¡¡Advertencia!!!</h3>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12" >
                            <p>¿Est&aacute; seguro que desea Anular el Comprobante de Egreso <b>No. {{vm.deactivatedailybookCe.dailyCeStringSeq}}</b>?</p>
                            <p>Recuerde que el Comprobante de Egreso Anulado <b>NO puede ser Recuperado</b></p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title = "Salir" class="btn btn-primary btn-sm" data-dismiss="modal">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                    <button type="button" title="Anular Comprobante de Egreso" class="btn btn-danger btn-sm" ng-click="vm.dailybookCeDeactivate()" data-dismiss="modal">
                            <span class = "glyphicon glyphicon-screenshot" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--COMPROBANTES DE EGRESO MANUAL-->
    <div class="table-responsive" ng-show="vm.dailybookCeManualCreatedList !== undefined">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <b>COMPROBANTES DE EGRESO</b>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-11">
                        <input ng-model="searchText" class="form-control" placeholder="Buscar">
                    </div>
                </div>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>N&uacute;mero</th>
                            <th>Fecha</th>
                            <th>Descripci&oacute;n</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-show="vm.dailybookCeManualCreatedList == 0">
                            <td colspan="4">
                                No hay Comprobantes de Egreso ingresados...
                            </td>
                        </tr>
                        <tr ng-repeat="dailyCe in vm.dailybookCeManualCreatedList | orderBy:'dailyCeStringSeq':true">
                            <td>{{dailyCe.dailyCeStringSeq}}</td>
                            <td>{{dailyCe.dateRecordBook | date : "dd/MM/yyyy"}}</td>
                            <td>{{dailyCe.generalDetail}}</td>
                            <td>
                                <button type = "button" title = "Ver Comprobante de Egreso" class = "btn btn-primary btn-sm" 
                                        ng-click = "vm.dailybookCeSelected(dailyCe)">
                                        <span class = "glyphicon glyphicon-eye-open" aria-hidden = "true"></span>
                                </button>
                                <button type = "button" title = "Anular Comprobante de Egreso" 
                                        class = "btn btn-warning btn-sm" ng-click = "vm.deactivatedailybookCe = dailyCe"
                                        data-toggle = "modal" data-target = "#modalAnularDailyBookCe">
                                        <span class = "glyphicon glyphicon-warning-sign" aria-hidden = "true"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="panel-footer">
                <button type="button" title="Volver" class="btn btn-primary btn-sm"
                        ng-click = "vm.dailybookCeManualCreatedList = undefined">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--INGRESO DE COMPROBANTES DE EGRESO-->
    <div class="form-group col-md-12" ng-show="vm.providerCeSelected !== undefined || vm.dailybookCeManual === true">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h4>Ingreso de Comprobantes de Egreso</h4>
                <div>
                    <b>Comprobante de Egreso Nro: </b>{{vm.dailyCeStringSeq}}
                </div>
            </div>
            <div class="panel-body">
                <div class="row" ng-if="vm.dailybookCeManual === false">
                    <div class="form-group col-md-5">
                        <label>Proveedor: </label><br/>
                        {{vm.dailybookCe.provider.razonSocial}}
                    </div>
                    <div class="form-group col-md-1">
                        <br/>
                        <button type = "button" title = "Buscar y Agregar Factura" class = "btn btn-primary btn-sm"
                                ng-click = "vm.getDebtsToPayByProviderCe()" data-toggle = "modal" 
                                data-target = "#modalShowDebtsToPayCe" ng-show = "vm.dailybookCe.billNumber == undefinded || vm.dailybookCe.billNumber == ''">
                                <span class = "glyphicon glyphicon-search" aria-hidden = "true"></span>
                        </button>
                    </div>
                    <div class="form-group col-md-3">
                        <label>N&uacute;mero de Factura: </label><br/>
                        <input type="text" ng-model="vm.dailybookCe.billNumber" class="form-control" maxlength="17"/>
                    </div>
                    <div class="form-group col-md-3">
                            <label>Valor Total:</label>
                            <input type="text" ng-model="vm.dailybookCe.total"
                                   class="form-control" maxlength="20"/>
                    </div>
                </div>
                <div class="row" ng-if="vm.dailybookCeManual === true">
                    <div class="form-group col-md-6">
                        <label>Beneficiario: </label><br/>
                        <input type="text" ng-model="vm.beneficiario" class="form-control"/>
                    </div>
                    <div class="form-group col-md-3">
                        <label>RUC:</label>
                        <input type="text" ng-model="vm.provRuc"
                               class="form-control" maxlength="13"/>
                    </div>
                    <div class="form-group col-md-3">
                            <label>Valor Total:</label>
                            <input type="text" ng-model="vm.dailybookCe.total"
                                   class="form-control" maxlength="20"/>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-4">
                        <label>Fecha: </label>
                        <div class="input-group date" id="pickerDateRecordBookCe">
                            <input type="text" class="form-control input-group-addon"/>
                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"/></span>
                        </div>
                        <script>
                            var defaultDate = new Date();
                            $('#pickerDateRecordBookCe').datetimepicker({format: "DD/MM/YY",});
                        </script>
                    </div>
                    <div class="form-group col-md-4">
                        <label>N&uacute;mero de Referencia:</label><br/>
                        <input type="text" ng-model="vm.dailybookCe.dailyCeStringUserSeq" 
                               class="form-control" maxlength="20"/>
                    </div>
                    <div class="form-group col-md-4">
                        <label>N&uacute;mero Cheque:</label><br/>
                        <input type="text" class="form-control" ng-model="vm.numCheque"/>
                    </div>
                </div>
                <div class="row" ng-if="vm.dailybookCeManual === false">
                    <div class="form-group col-md-11">
                        <b>DETALLE GENERAL:</b>
                        <input type="text" ng-model="vm.generalDetailCe" class="form-control"/>
                    </div>
                    <div class="form-group col-md-1">
                        <br/>
                        <button type = "button" title = "Llenar Detalle General" class = "btn btn-primary btn-sm"
                                ng-click = "vm.putGeneralDetailCe()" ng-show="vm.generalDetailCe == undefinded || vm.generalDetailCe == ''">
                                <span class = "glyphicon glyphicon-ok" aria-hidden = "true"></span>
                        </button>
                    </div>
                </div>
                <div class="row" ng-if="vm.dailybookCeManual === true">
                    <div class="form-group col-md-11">
                        <b>DETALLE GENERAL:</b>
                        <input type="text" ng-model="vm.generalDetailCe" class="form-control"/>
                    </div>
                </div>
                <div class="row" ng-if="vm.dailybookCeManual === false">
                    <div class="form-group col-md-4" ng-if="vm.dailybookCeNew">
                        <label>Cuentas Banco: </label>
                        <label class="radio-inline"><input type="checkbox" ng-model="vm.cuenta"
                                ng-change="vm.getCuentasContablesBankCe()"></label>
                    </div>
                </div>
                <div class="row" ng-if="vm.dailybookCeManual === true">
                    <div class="form-group col-md-4">
                        <label>Cuentas Contables: </label>
                        <label class="radio-inline"><input type="checkbox" ng-model="vm.cuentaCtable"
                               ng-change="vm.getCuentasContablesCe()"></label>
                        </div>
                    <div class="form-group col-md-4">
                        <label>Cuentas Banco: </label>
                        <label class="radio-inline"><input type="checkbox" ng-model="vm.cuenta"
                               ng-change="vm.getCuentasContablesBankCe()"></label>
                    </div>
                </div>
                <div class="row table-responsive" ng-show="vm.cuentaContableList !== undefined">
                    <div class="form-group col-md-12">
                        <input ng-model="searchTextTaxes" class="form-control" placeholder="Buscar"/>
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Tipo de Cuenta</th>
                                    <th>Nombre G&eacute;nerico</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-show="vm.cuentaContableList == 0">
                                    <td colspan="2">
                                        No hay Fuente Seleccionada
                                    </td>
                                </tr>
                                <tr dir-paginate = "cuenta in vm.cuentaContableList | orderBy:'type' | filter:searchTextTaxes | itemsPerPage: 5" pagination-id = "taxesPagination">
                                    <td>{{cuenta.accountType}}</td>
                                    <td>{{cuenta.name}}</td>
                                    <td>
                                        <button type = "button" title = "Seleccionar" class = "btn btn-primary btn-sm"
                                                ng-click = "vm.selectCuentasCe(cuenta)" data-toggle = "modal" data-target = "#modalSelectedCuentasCe">
                                                <span class = "glyphicon glyphicon-check" aria-hidden = "true"></span>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <dir-pagination-controls pagination-id = "taxesPagination"></dir-pagination-controls>
                    </div>
                </div>
                <div class="row table-responsive" ng-show="vm.cuentaContableBankList !== undefined">
                    <div class="form-group col-md-12">
                        <input ng-model="searchTextTaxes" class="form-control" placeholder="Buscar"/>
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Tipo de Cuenta</th>
                                    <th>Nombre G&eacute;nerico</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-show="vm.cuentaContableBankList == 0">
                                    <td colspan="2">
                                        No hay Fuente Seleccionada
                                    </td>
                                </tr>
                                <tr dir-paginate = "cuenta in vm.cuentaContableBankList | orderBy:'type' | filter:searchTextTaxes | itemsPerPage: 5" pagination-id = "taxesPagination">
                                    <td>{{cuenta.accountType}}</td>
                                    <td>{{cuenta.name}}</td>
                                    <td>
                                        <button type = "button" title = "Seleccionar" class = "btn btn-primary btn-sm"
                                                ng-click = "vm.selectCuentasBankCe(cuenta)" data-toggle = "modal" data-target = "#modalSelectedCuentasCe">
                                                <span class = "glyphicon glyphicon-check" aria-hidden = "true"></span>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <dir-pagination-controls pagination-id = "taxesPagination"></dir-pagination-controls>
                    </div>
                </div>
                <div class = "row table-responsive">
                    <div class = "form-group col-md-12">
                        <table class = "table table-striped">
                            <thead>
                                <tr>
                                    <th>CODIGO</th>
                                    <th>CUENTA ASOCIADA</th>
                                    <th>DESCRIPCION</th>
                                    <th>TIPO</th>
                                    <th>VALOR</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-show = "vm.dailybookCe.detailDailybookContab == 0">
                                    <td colspan = "5">
                                        No hay Fuente Seleccionada
                                    </td>
                                </tr>
                                <tr ng-repeat = "detail in vm.dailybookCe.detailDailybookContab" >
                                    <td>{{detail.codeConta}}</td>
                                    <td>{{detail.descrip}}</td>
                                    <td>{{detail.name}}</td>
                                    <td>{{detail.tipo}}</td>
                                    <td>{{detail.baseImponible}}</td>
                                    <td>
                                        <button type = "button" title = "Editar" class = "btn btn-primary btn-sm"
                                                ng-click = "vm.editItemCe($index)" data-toggle = "modal" data-target = "#modalEditCuentasCe">
                                                <span class = "glyphicon glyphicon-pencil" aria-hidden = "true"></span>
                                        </button>
                                        <button type = "button" title = "Eliminar" class = "btn btn-primary btn-sm"
                                                ng-click = "vm.deleteItemCe($index)">
                                                <span class = "glyphicon glyphicon-trash" aria-hidden = "true"></span>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>DEBE: {{vm.getTotalDebitoCe()}}</td>
                                    <td>HABER: {{vm.getTotalCreditoCe()}}</td>
                                    <td><b>SALDO: {{vm.getTotalSaldoCe()}}</b></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div> 
                </div>
            </div>
            <div class="panel-footer">
                <button type="button" title="Guardar Diario" class="btn btn-primary btn-sm" ng-if="vm.dailybookCeNew"
                        ng-click="vm.saveDailybookCe()" ng-disabled = "vm.dailybookCe.detailDailybookContab == 0 || vm.getTotalSaldoCe() != 0.00">
                        <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>
                </button>
                <button type="button" title="Volver" class="btn btn-primary btn-sm"
                        ng-click="vm.cancel()">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--IMPRESIÓN DE COMPROBANTES DE EGRESO-->
    <div class="table-responsive" ng-show="vm.dailybookCeCreated" id="printArea" print-section>
        <div class="panel panel-primary">
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-12 ">
                        <table width="100%">
                            <tr>
                                <td width="40%" align="center"><img src="images/{{vm.userData.subsidiary.userClient.logo}}"><br></td>
                                <td width="60%" rowspan="2">
                                    <div style="padding:0px 15px;">
                                        <div class="form-group col-md-12">
                                            <h3>
                                                <label>COMPROBANTE DE EGRESO</label>
                                                <label>Nro: {{vm.dailybookCeCreated.dailyCeStringSeq}}</label>
                                            </h3>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-12 ">
                        <table width="100%">
                            <tr>
                                <td width="30%">
                                    <div>
                                        <label>BANCO: </label>
                                        {{vm.dailybookCeCreated.nameBank}}
                                    </div>
                                </td>
                                <td width="20%">
                                    <div>
                                        <label>FECHA: </label>
                                        {{vm.dailybookCeCreated.dateRecordBook | date : "dd-MM-yyyy"}}
                                    </div>
                                </td>
                                <td width="30%">
                                    <div>
                                        <label>CHEQUE: </label>
                                        {{vm.dailybookCeCreated.numCheque}}
                                    </div>
                                </td>
                                <td width="20%">
                                    <div>
                                        <label>VALOR: </label>
                                        &#36;{{vm.dailybookCeCreated.total}}
                                    </div>
                                </td>
                            </tr>
                        </table>
                        <table width="100%">
                            <tr>
                                <td width="50%">
                                    <div>
                                        <label>BENEFICIARIO: </label>
                                        {{vm.dailybookCeCreated.clientProvName}}
                                    </div>
                                </td>
                                <td width="20%">
                                    <div>
                                        <label>RUC: </label>
                                        {{vm.dailybookCeCreated.ruc}}
                                    </div>
                                </td>
                                <td width="30%">
                                    <div>
                                        <label>Nro REF.: </label>
                                        {{vm.dailybookCeCreated.dailyCeStringUserSeq}}
                                    </div>
                                </td>
                            </tr>
                        </table>
                        <table width="100%">
                            <tr>
                                <td width="30%">
                                    <div>
                                        <label>FACTURA: </label>
                                        {{vm.dailybookCeCreated.billNumber}}
                                    </div>
                                </td>
                                <td width="70%">
                                    <div>
                                        <label>DETALLE: </label>
                                        {{vm.dailybookCeCreated.generalDetail}}
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-12">
                        <table width="100%" border="1">
                            <tr>
                                <td><b>CUENTA</b></td>
                                <td><b>NOMBRE CUENTA</b></td>
                                <td><b>DESCRIPCIÓN</b></td>
                                <td><b>DÉBITO</b></td>
                                <td><b>CRÉDITO</b></td>
                            </tr>
                            <tr ng-repeat="detail in vm.dailybookCeCreated.detailDailybookContab">
                                <td>{{detail.codeConta}}</td>
                                <td>{{detail.descrip}}</td>
                                <td>{{detail.name}}</td>
                                <td>{{detail.deber}}</td>
                                <td>{{detail.haber}}</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td><b>TOTALES:</b></td>
                                <td>{{vm.getTotalDebitoCeCreated()}}</td>
                                <td>{{vm.getTotalCreditoCeCreated()}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <table width="100%">
                            <tr>
                                <td width="20%" align="center">
                                    <br/><br/>
                                    _____________<br/>
                                    AUTORIZADO
                                </td>
                                <td width="20%" align="center">
                                    <br/><br/>
                                    ___________<br/>
                                    CONTADOR
                                </td>
                                <td width="20%" align="center">
                                    <br/><br/>
                                    ________________<br/>
                                    CONTABILIZADO
                                </td>
                                <td width="40%" align="center">
                                    <br/>
                                    {{vm.dailybookCeCreated.clientProvName}}<br/>
                                    __________________________<br/>
                                    FIRMA Y SELLO BENEFICIARIO
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="row" print-remove>
                    <div class="form-group col-md-12">
                        <button print-btn type="button" title = "Imprimir Comprobante de Diario" class="btn btn-primary btn-sm"
                                ng-show="vm.activeCe === true" ng-click="vm.cancelDailybookCxPCreated()">
                                <span class = "glyphicon glyphicon-print" aria-hidden = "true"></span>
                        </button>
                        <button type="button" title = "Salir" class="btn btn-primary btn-sm"
                                ng-click="vm.cancelDailybookCxPCreated()">
                                <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--BUSQUEDA DE DEBTS TO PAY POR PROVEEDOR-->
    <div id="modalShowDebtsToPayCe" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class = "modal-title">Facturas de Compra por Proveedor</h4>
                </div>
                <div class="modal-body">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Nro. Factura</th>
                                <th>Fecha</th>
                                <th>Valor</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-show="vm.debtsToPayList == 0">
                                <td colspan="4">
                                    No hay Facturas de Compra ingresadas para este Proveedor
                                </td>
                            </tr>
                            <tr ng-repeat="debtsToPay in vm.debtsToPayList | orderBy:'dateCreated':true | filter:searchText">
                                <td>{{debtsToPay.billNumber}}</td>
                                <td>{{debtsToPay.fecha | date : "dd/MM/yyyy"}}</td>
                                <td>{{debtsToPay.total}}</td>
                                <td>
                                    <button type="button" title="Seleccionar Factura" class="btn btn-primary btn-sm" ng-click="vm.debtsToPaySelectedCe(debtsToPay)"
                                            data-dismiss="modal">
                                            <span class = "glyphicon glyphicon-thumbs-up" aria-hidden = "true"></span>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" title = "Salir" class="btn btn-primary btn-sm" data-dismiss="modal">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--SELECCION DE LAS CUENTAS CONTABLES PARA COMPROBANTE DE EGRESO-->
    <div id="modalSelectedCuentasCe" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" ng-click="vm.impuesto=undefined">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-2">
                            <label>C&oacute;digo:</label>  
                            <b>{{vm.itemb.codeConta}}</b>
                        </div>
                        <div class="form-group col-md-5">
                            <label>Descripci&oacute;n:</label><br/>
                            <input type="text" class="form-control" ng-model="vm.detailitemb"/>
                        </div>
                        <div class="form-group col-md-3">
                            <label>Tipo de Cuenta:</label>
                            <select ng-options="tip.name as tip.name for tip in [{code: 'DEB' ,name:'DEBITO (D)'}, {code: 'CRD', name:'CREDITO (C)'}]"
                                    ng-model="vm.itemb.tipo" class="form-control">
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label>Valor</label>
                            <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                    class="form-control" maxlength="9" ng-model="vm.itemb.baseImponible" placeholder="{{vm.dailybookCe.total}}"/>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Aceptar" class="btn btn-success btn-sm" data-dismiss="modal" ng-click="vm.addItemCe()">
                            <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                    </button>
                    <button type="button" title="Salir" class="btn btn-primary btn-sm" data-dismiss="modal"
                            ng-click="vm.item = undefined; vm.indexEdit = undefined;">
                            <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="modalEditCuentasCe" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-2">
                            <label>C&oacute;digo:</label>  
                            <b>{{vm.itemb.codeConta}}</b>
                        </div>
                        <div class="form-group col-md-5">
                            <label>Descripci&oacute;n:</label><br/>
                            <input type="text" class="form-control" ng-model="vm.itemb.name"/>
                        </div>
                        <div class="form-group col-md-3">
                            <label>Tipo de Cuenta:</label>
                            <select ng-options="tip.name as tip.name for tip in [{code: 'DEB' ,name:'DEBITO (D)'}, {code: 'CRD', name:'CREDITO (C)'}]"
                                    ng-model="vm.itemb.tipo" class="form-control">
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label>Valor</label>
                            <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                   class="form-control" maxlength="9" ng-model="vm.itemb.baseImponible" placeholder="{{vm.dailybookCe.total}}"/>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Aceptar" class="btn btn-success btn-sm" data-dismiss="modal" ng-click="vm.addItemCe()">
                            <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                    </button>
                    <button type="button" title="Salir" class="btn btn-primary btn-sm" data-dismiss="modal"
                            ng-click="vm.item = undefined; vm.indexEdit = undefined;">
                            <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!--FIN DE DIARIO COMPROBANTE DE EGRESO-->

    <!--DIARIO DE COMPROBANTE DE INGRESO-->
    <!--CARGA DE PROVEEDORES PARA DIARIO DE COMPROBANTE DE INGRESO-->
    <div class="table-responsive" ng-show="vm.selectedTypeBook === '2' && vm.providerCiSelected === undefined && vm.dailybookCiCreated === undefinded && vm.dailybookCiList === undefined && vm.dailybookCiManualCreatedList === undefined && vm.dailybookCiManual === false">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <b>DIARIO DE COMPROBANTE DE INGRESO</b>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-10">
                        <input ng-model="searchText" class="form-control" placeholder="Buscar Proveedores">
                    </div>
                    <div class="form-group col-md-2">
                        <button type = "button" title = "Comprobante de Ingreso Manual" class = "btn btn-success btn-sm" ng-click = "vm.manualDailybookCi()">
                                <span class = "glyphicon glyphicon-book" aria-hidden = "true"></span>
                        </button>
                        <button type = "button" title = "Consultar Comprobante de Ingreso Manual" class = "btn btn-success btn-sm" ng-click = "vm.consultManualDailybookCi()">
                                <span class = "glyphicon glyphicon-search" aria-hidden = "true"></span>
                        </button>
                    </div>
                </div>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>C&oacute;digo</th>
                            <th>Nombre</th>
                            <th>No. Identidad</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-show="vm.providerCiList == 0">
                            <td colspan="4">
                                No hay proveedores ingresados
                            </td>
                        </tr>
                        <tr ng-repeat="provider in vm.providerCiList | orderBy:'name' | filter:searchText">
                            <td>{{provider.codeIntegridad}}</td>
                            <td>{{provider.name}}</td>
                            <td>{{provider.rucType}} - {{provider.ruc}}</td>
                            <td>
                                <button type = "button" title = "Nuevo Comprobante de Ingreso" class = "btn btn-primary btn-sm" ng-click = "vm.providerCeSelect(provider)">
                                        <span class = "glyphicon glyphicon-book" aria-hidden = "true"></span>
                                </button>
                                <button type = "button" title = "Consultar Comprobante de Ingreso" class = "btn btn-primary btn-sm" ng-click = "vm.consultDailybookCe(provider)">
                                        <span class = "glyphicon glyphicon-search" aria-hidden = "true"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="panel-footer">
                <button type="button" title="Volver" class="btn btn-primary btn-sm"
                        ng-click="vm.cancel()">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>
    <!--FIN DIARIO DE COMPROBANTE DE INGRESO-->

    <!--INICIO DE DIARIO DE CUENTAS POR PAGAR-->
    <!--CARGA DE PROVEEDORES PARA DIARIO DE CUENTAS POR PAGAR-->
    <div class="table-responsive" ng-show="vm.selectedTypeBook === '5' && vm.providerCxPSelected === undefined && vm.dailybookCxPCreated === undefinded && vm.dailybookCxPList === undefined">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <b>DIARIO DE CUENTAS POR PAGAR</b>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-12">
                        <input ng-model="searchText" class="form-control" placeholder="Buscar Proveedores">
                    </div>
                </div>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>C&oacute;digo</th>
                            <th>Nombre</th>
                            <th>No. Identidad</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-show="vm.providerCxPList == 0">
                            <td colspan="4">
                                No hay proveedores ingresados
                            </td>
                        </tr>
                        <tr ng-repeat="provider in vm.providerCxPList | orderBy:'name' | filter:searchText">
                            <td>{{provider.codeIntegridad}}</td>
                            <td>{{provider.name}}</td>
                            <td>{{provider.rucType}} - {{provider.ruc}}</td>
                            <td>
                                <button type = "button" title = "Nuevo Diario Cuentas por Pagar" class = "btn btn-primary btn-sm" ng-click = "vm.providerCxPSelect(provider)">
                                        <span class = "glyphicon glyphicon-book" aria-hidden = "true"></span>
                                </button>
                                <button type = "button" title = "Consultar Diario Cuentas por Pagar" class = "btn btn-primary btn-sm" ng-click = "vm.consultDailybookCxP(provider)">
                                        <span class = "glyphicon glyphicon-search" aria-hidden = "true"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="panel-footer">
                <button type="button" title="Volver" class="btn btn-primary btn-sm"
                        ng-click="vm.cancel()">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>
    <div class="table-responsive" ng-show="vm.dailybookCxPList !== undefined">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <b>DIARIOS DE CUENTAS POR PAGAR POR PROVEEDOR</b>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-11">
                        <input ng-model="searchText" class="form-control" placeholder="Buscar">
                    </div>
                </div>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>N&uacute;mero</th>
                            <th>Fecha</th>
                            <th>Descripci&oacute;n</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-show="vm.dailybookCxPList == 0">
                            <td colspan="4">
                                No hay Diarios de Cuentas por Pagar ingresados...
                            </td>
                        </tr>
                        <tr ng-repeat="dailycxp in vm.dailybookCxPList | orderBy:'payNumber':true">
                            <td>{{dailycxp.dailycxpStringSeq}}</td>
                            <td>{{dailycxp.dateRecordBook | date : "dd/MM/yyyy"}}</td>
                            <td>{{dailycxp.generalDetail}}</td>
                            <td>
                                <button type = "button" title = "Ver Diario de Cuentas por Pagar" class = "btn btn-primary btn-sm" 
                                        ng-click = "vm.dailybookCxPSelected(dailycxp)">
                                        <span class = "glyphicon glyphicon-eye-open" aria-hidden = "true"></span>
                                </button>
                                <button type = "button" title = "Anular Diario de Cuentas por Pagar" ng-show = "dailycxp.active !== false"
                                        class = "btn btn-warning btn-sm" ng-click = "vm.deactivatedailybookCxP = dailycxp"
                                        data-toggle = "modal" data-target = "#modalAnularDailyBookCxP">
                                        <span class = "glyphicon glyphicon-warning-sign" aria-hidden = "true"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="panel-footer">
                <button type="button" title="Volver" class="btn btn-primary btn-sm"
                        ng-click = "vm.dailybookCxPList = undefined">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--ANULAR DIARIOS DE CUENTAS POR PAGAR-->
    <div id="modalAnularDailyBookCxP" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h3 class="modal-title">¡¡¡Advertencia!!!</h3>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12" >
                            <p>¿Est&aacute; seguro que desea Anular el Diario de Cuentas por Pagar <b>No. {{vm.deactivatedailybookCxP.dailyCxPStringSeq}}</b>?</p>
                            <p>Recuerde que el Diario de Cuentas por Pagar Anulado <b>NO puede ser Recuperado</b></p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title = "Salir" class="btn btn-primary btn-sm" data-dismiss="modal">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                    <button type="button" title="Anular Diario de Cuentas por Pagar" class="btn btn-danger btn-sm" ng-click="vm.dailybookCxPDeactivate()" data-dismiss="modal">
                            <span class = "glyphicon glyphicon-screenshot" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--INGRESO DE DIARIO DE CUENTAS POR PAGAR-->
    <div class="form-group col-md-12" ng-show="vm.providerCxPSelected !== undefined">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h4>Ingreso de Diario de Cuentas por Pagar</h4>
                <div>
                    <b>Diario de Cuentas Nro: </b>{{vm.dailyCxPStringSeq}}
                </div>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-5">
                        <label>Proveedor: </label><br/>
                        {{vm.dailybookCxP.provider.razonSocial}}
                    </div>
                    <div class="form-group col-md-1">
                        <br/>
                        <button type = "button" title = "Buscar y Agregar Factura" class = "btn btn-primary btn-sm"
                                ng-click = "vm.getDebtsToPayByProvider()" data-toggle = "modal" 
                                data-target = "#modalShowDebtsToPay" ng-show = "vm.dailybookCxP.billNumber == undefinded || vm.dailybookCxP.billNumber == ''">
                                <span class = "glyphicon glyphicon-search" aria-hidden = "true"></span>
                        </button>
                    </div>
                    <div class="form-group col-md-3">
                        <label>N&uacute;mero de Factura: </label><br/>
                        <input type="text" ng-model="vm.dailybookCxP.billNumber" class="form-control" maxlength="17"/>
                    </div>
                    <div class="form-group col-md-3">
                            <label>Valor Total:</label>
                            <input type="text" ng-model="vm.dailybookCxP.total"
                                   class="form-control" maxlength="20"/>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>Fecha: </label>
                        <div class="input-group date" id="pickerDateRecordBookCxP">
                            <input type="text" class="form-control input-group-addon"/>
                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"/></span>
                        </div>
                        <script>
                            var defaultDate = new Date();
                            $('#pickerDateRecordBookCxP').datetimepicker({format: "DD/MM/YY",});
                        </script>
                    </div>
                    <div class="form-group col-md-6">
                        <label>N&uacute;mero de Referencia:</label><br/>
                        <input type="text" ng-model="vm.dailybookCxP.dailycxpStringUserSeq" 
                               class="form-control" maxlength="20"/>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-11">
                        <b>DETALLE GENERAL:</b>
                        <input type="text" ng-model="vm.generalDetailCxP" class="form-control"/>
                    </div>
                    <div class="form-group col-md-1">
                        <br/>
                        <button type = "button" title = "Llenar Detalle General" class = "btn btn-primary btn-sm"
                                ng-click = "vm.putGeneralDetailCxP()" ng-show="vm.generalDetailCxP == undefinded || vm.generalDetailCxP == ''">
                                <span class = "glyphicon glyphicon-ok" aria-hidden = "true"></span>
                        </button>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-4" ng-if="vm.dailybookCxPNew">
                        <button type = "button" title = "Buscar y Agregar Retención" class = "btn btn-primary btn-sm"
                                ng-click = "vm.getRetentionByProviderAndDocumentNumber()" data-toggle = "modal" data-target = "#modalFindRetention">
                                Buscar Retenci&oacute;n
                        </button>
                    </div>
                    <div class="form-group col-md-4" ng-if="vm.dailybookCxPNew">
                        <label>Cuentas Contables: </label>
                        <label class="radio-inline"><input type="checkbox" ng-model="vm.cuenta"
                                ng-change="vm.getCuentasContablesCxP()"></label>
                    </div>
                    <div class="form-group col-md-4" ng-if="vm.dailybookCxPNew">
                        <button type="button" title = "Agregar Cuentas IVA y Proveedor" class="btn btn-primary btn-sm"
                                data-toggle = "modal" data-target = "#modalBaseImponibleIVA" ng-disabled = "vm.getTotalSaldoCxP() == 0.00">
                                IVA y Proveedor
                        </button>
                    </div>
                </div>
                <div class="row table-responsive" ng-show="vm.cuentaContableList !== undefined">
                    <div class="form-group col-md-12">
                        <input ng-model="searchTextTaxes" class="form-control" placeholder="Buscar"/>
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Tipo de Cuenta</th>
                                    <th>Nombre G&eacute;nerico</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-show="vm.cuentaContableList == 0">
                                    <td colspan="2">
                                        No hay Fuente Seleccionada
                                    </td>
                                </tr>
                                <tr dir-paginate = "cuenta in vm.cuentaContableList | orderBy:'type' | filter:searchTextTaxes | itemsPerPage: 5" pagination-id = "taxesPagination">
                                    <td>{{cuenta.accountType}}</td>
                                    <td>{{cuenta.name}}</td>
                                    <td>
                                        <button type = "button" title = "Seleccionar" class = "btn btn-primary btn-sm"
                                                ng-click = "vm.selectCuentasCxP(cuenta)" data-toggle = "modal" data-target = "#modalSelectedCuentasCxP">
                                                <span class = "glyphicon glyphicon-check" aria-hidden = "true"></span>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <dir-pagination-controls pagination-id = "taxesPagination"></dir-pagination-controls>
                    </div>
                </div>
                <div class = "row table-responsive">
                    <div class = "form-group col-md-12">
                        <table class = "table table-striped">
                            <thead>
                                <tr>
                                    <th>CODIGO</th>
                                    <th>CUENTA ASOCIADA</th>
                                    <th>DESCRIPCION</th>
                                    <th>TIPO</th>
                                    <th>VALOR</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-show = "vm.dailybookCxP.detailDailybookContab == 0">
                                    <td colspan = "5">
                                        No hay Fuente Seleccionada
                                    </td>
                                </tr>
                                <tr ng-repeat = "detail in vm.dailybookCxP.detailDailybookContab" >
                                    <td>{{detail.codeConta}}</td>
                                    <td>{{detail.descrip}}</td>
                                    <td>{{detail.name}}</td>
                                    <td>{{detail.tipo}}</td>
                                    <td>{{detail.baseImponible}}</td>
                                    <td>
                                        <button type = "button" title = "Editar" class = "btn btn-primary btn-sm"
                                                ng-click = "vm.editItemCxP($index)" data-toggle = "modal" data-target = "#modalEditCuentasCxP">
                                                <span class = "glyphicon glyphicon-pencil" aria-hidden = "true"></span>
                                        </button>
                                        <button type = "button" title = "Eliminar" class = "btn btn-primary btn-sm"
                                                ng-click = "vm.deleteItemCpp($index)">
                                                <span class = "glyphicon glyphicon-trash" aria-hidden = "true"></span>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>DEBE: {{vm.getTotalDebitoCxP()}}</td>
                                    <td>HABER: {{vm.getTotalCreditoCxP()}}</td>
                                    <td><b>SALDO: {{vm.getTotalSaldoCxP()}}</b></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div> 
                </div>
            </div>
            <div class="panel-footer">
                <button type="button" title="Guardar Diario" class="btn btn-primary btn-sm" ng-if="vm.dailybookCxPNew"
                        ng-click="vm.saveDailybookCxP()" ng-disabled = "vm.dailybookCxP.detailDailybookContab == 0 || vm.getTotalSaldoCxP() != 0.00">
                        <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>
                </button>
                <button type="button" title="Volver" class="btn btn-primary btn-sm"
                        ng-click="vm.cancel()">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--IMPRESIÓN DE DIARIO DE CUENTAS POR PAGAR-->
    <div class="table-responsive" ng-show="vm.dailybookCxPCreated" id="printArea" print-section>
        <div class="panel panel-primary">
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-12 ">
                        <table width="100%">
                            <tr>
                                <td width="20%" align="center"><img src="images/{{vm.userData.subsidiary.userClient.logo}}"><br></td>
                                <td width="80%" rowspan="2">
                                    <div style="padding:0px 15px;">
                                        <b>{{vm.userData.subsidiary.userClient.name}}</b><br/>
                                        <b>{{vm.userData.subsidiary.userClient.address1}}</b><br/>
                                        <b>Tel&eacute;fono: {{vm.userData.subsidiary.phone}} - {{vm.userData.subsidiary.userClient.email}}</b><br/>
                                        <b>RUC: {{vm.userData.subsidiary.userClient.ruc}}</b>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-12 ">
                        <table width="100%">
                            <tr>
                                <td align="center">
                                    <div>
                                        <h4>
                                            <label>COMPROBANTE DE DIARIO Nro: </label>
                                            {{vm.dailybookCxP.dailycxpStringSeq}}
                                        </h4>
                                    </div>
                                </td>
                            </tr>
                        </table>
                        <table width="100%">
                            <tr>
                                <td width="50%">
                                    <div>
                                        <label>Cliente/Proveedor: </label>
                                        {{vm.dailybookCxP.provider.razonSocial}}
                                    </div>
                                </td>
                                <td width="30%">
                                    <div>
                                        <label>Factura: </label>
                                        {{vm.dailybookCxP.billNumber}}
                                    </div>
                                </td>
                                <td width="20%">
                                    <div>
                                        <label>Monto: </label>
                                        &#36; {{vm.dailybookCxP.total}}
                                    </div>
                                </td>
                            </tr>
                        </table>
                        <table width="100%">
                            <tr>
                                <td width="25%">
                                    <div>
                                        <label>Fecha: </label>
                                        {{vm.dailybookCxP.dateRecordBook | date : "dd-MM-yyyy"}}
                                    </div>
                                </td>
                                <td width="75%">
                                    <div>
                                        <label>Detalle: </label>
                                        {{vm.dailybookCxP.generalDetail}}
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-12">
                        <table width="100%" border="1">
                            <tr>
                                <td><b>CUENTA</b></td>
                                <td><b>NOMBRE CUENTA</b></td>
                                <td><b>DESCRIPCIÓN</b></td>
                                <td><b>DEBE</b></td>
                                <td><b>HABER</b></td>
                            </tr>
                            <tr ng-repeat="detail in vm.dailybookCxP.detailDailybookContab">
                                <td>{{detail.codeConta}}</td>
                                <td>{{detail.descrip}}</td>
                                <td>{{detail.name}}</td>
                                <td>{{detail.deber}}</td>
                                <td>{{detail.haber}}</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td><b>TOTALES:</b></td>
                                <td>{{vm.getTotalDebitoCxPCreated()}}</td>
                                <td>{{vm.getTotalCreditoCxPCreated()}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <table width="100%" border="1">
                            <tr>
                                <td width="33%" align="center">
                                    <br/><br/>
                                    _____________<br/>
                                    AUTORIZADO
                                </td>
                                <td width="33%" align="center">
                                    <br/><br/>
                                    ___________<br/>
                                    CONTADOR
                                </td>
                                <td width="33%" align="center">
                                    <br/><br/>
                                    ________________<br/>
                                    CONTABILIZADO
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="row" print-remove>
                    <div class="form-group col-md-12">
                        <button print-btn type="button" title = "Imprimir Comprobante de Diario" class="btn btn-primary btn-sm"
                                ng-show="vm.activeCxP === true" ng-click="vm.cancelDailybookCxPCreated()">
                                <span class = "glyphicon glyphicon-print" aria-hidden = "true"></span>
                        </button>
                        <button type="button" title = "Salir" class="btn btn-primary btn-sm"
                                ng-click="vm.cancelDailybookCxPCreated()">
                                <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--SELECCION DE LAS CUENTAS CONTABLES-->
    <div id="modalSelectedCuentasCxP" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" ng-click="vm.impuesto=undefined">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-2">
                            <label>C&oacute;digo:</label>  
                            <b>{{vm.itema.codeConta}}</b>
                        </div>
                        <div class="form-group col-md-5">
                            <label>Descripci&oacute;n:</label><br/>
                            <input type="text" class="form-control" ng-model="vm.itema.name"/>
                        </div>
                        <div class="form-group col-md-3">
                            <label>Tipo de Cuenta:</label>
                            <select ng-options="tip.name as tip.name for tip in [{code: 'DEB' ,name:'DEBITO (D)'}, {code: 'CRD', name:'CREDITO (C)'}]"
                                    ng-model="vm.itema.tipo" class="form-control">
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label>Valor</label>
                            <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                   class="form-control" maxlength="9" ng-model="vm.itema.baseImponible" placeholder = "{{vm.getBaseImponibleCodigo_1()}}"/>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Aceptar" class="btn btn-success btn-sm" data-dismiss="modal" ng-click="vm.addItemCxP()">
                            <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                    </button>
                    <button type="button" title="Salir" class="btn btn-primary btn-sm" data-dismiss="modal"
                            ng-click="vm.item = undefined; vm.indexEdit = undefined;">
                            <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="modalEditCuentasCxP" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-2">
                            <label>C&oacute;digo:</label>  
                            <b>{{vm.itema.codeConta}}</b>
                        </div>
                        <div class="form-group col-md-5">
                            <label>Descripci&oacute;n:</label><br/>
                            <input type="text" class="form-control" ng-model="vm.itema.name"/>
                        </div>
                        <div class="form-group col-md-3">
                            <label>Tipo de Cuenta:</label>
                            <select ng-options="tip.name as tip.name for tip in [{code: 'DEB' ,name:'DEBITO (D)'}, {code: 'CRD', name:'CREDITO (C)'}]"
                                    ng-model="vm.itema.tipo" class="form-control">
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label>Valor</label>
                            <input type="text" onkeypress="return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                   class="form-control" maxlength="9" ng-model="vm.itema.baseImponible" placeholder = "{{vm.getBaseImponibleCodigo_1()}}"/>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Aceptar" class="btn btn-success btn-sm" data-dismiss="modal" ng-click="vm.addItemCxP()">
                            <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                    </button>
                    <button type="button" title="Salir" class="btn btn-primary btn-sm" data-dismiss="modal"
                            ng-click="vm.item = undefined; vm.indexEdit = undefined;">
                            <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--BUSQUEDA DE RETENCIONES POR PROVEEDOR-->
    <div id="modalFindRetention" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class = "modal-title">Retenciones por Proveedor</h4>
                </div>
                <div class="modal-body">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Nro. Retenci&oacute;n</th>
                                <th>Fecha</th>
                                <th>Nro. Factura</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-show="vm.retentionList == 0">
                                <td colspan="4">
                                    No hay Retenciones ingresadas para este Proveedor
                                </td>
                            </tr>
                            <tr ng-repeat="retention in vm.retentionList | orderBy:'dateCreated':true | filter:searchText">
                                <td>{{retention.stringSeq}}</td>
                                <td>{{retention.dateCreated | date : "dd/MM/yyyy"}}</td>
                                <td>{{retention.documentNumber}}</td>
                                <td>
                                    <button type="button" title="Ver Retención" class="btn btn-primary btn-sm" ng-click="vm.retentionSelected(retention)"
                                            data-dismiss="modal" data-toggle="modal" data-target="#modalViewAndSelectRetention">
                                            <span class = "glyphicon glyphicon-eye-open" aria-hidden = "true"></span>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" title = "Salir" class="btn btn-primary btn-sm" data-dismiss="modal"
                            ng-click="vm.retenCodeFuente=undefinded; vm.retenCodeIva=undefinded">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--MODAL DE VISUALIZACIÓN Y SELECCIÓN DE LA RETENCIÓN PARA LA CUENTA POR PAGAR-->
    <div id="modalViewAndSelectRetention" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type = "button" class = "close" data-dismiss = "modal">&times;</button>
                    <h4 class = "modal-title">Datos de la Retenci&oacute;n</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-12 ">
                            <table width="100%">
                                <tr>
                                    <td>
                                        <div>
                                            <b>COMPROBANTE DE RETENCIÓN</b><br/>
                                            <b>No: {{vm.retention.stringSeq}}</b><br/>
                                            <b>AUTORIZACIÓN: {{vm.retention.claveDeAcceso}}</b><br/>
                                            <b>FECHA DE EMISIÓN: {{vm.retention.dateCreated | date : "dd-MM-yyyy"}}</b><br/>
                                            <b>FACTURA: {{vm.retention.documentNumber}}</b><br/>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-12 ">
                            <table width="100%">
                                <tr>
                                    <td width="50%">
                                        <div >
                                            <label>Raz&oacute;n social / Nombres y Apellidos: </label>
                                            {{vm.retention.provider.razonSocial}}
                                        </div>
                                    </td>
                                    <td width="50%" style=" padding-left: 10px">
                                        <label>identificaci&oacute;n: </label>
                                        {{vm.retention.provider.ruc}}
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div >
                                            <label>Fecha del Documento: </label>
                                            {{vm.retention.documentDate | date : "dd-MM-yyyy"}}
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div >
                                        <label>Direcci&oacute;n: </label>
                                        {{vm.retention.provider.address1}}
                                        </div>
                                    </td>
                                    <td style=" padding-left: 10px">
                                        <label>E-mail: </label>
                                        {{vm.retention.provider.email}}
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-12 ">
                            <table width="100%" border="1">
                                <tr>
                                    <td><b>EJERCICIO FISCAL</b></td>
                                    <td><b>TIPO IMPUESTO</b></td>
                                    <td><b>CÓDIGO</b></td>
                                    <td><b>BASE IMPONIBLE</b></td>
                                    <td><b>RETENCIONES %</b></td>
                                    <td><b>VALOR</b></td>
                                </tr>
                                <tr ng-repeat="detail in vm.retention.detailRetentions">
                                    <td>{{vm.retention.ejercicioFiscal}}</td>
                                    <td>{{detail.taxType}}</td>
                                    <td>{{detail.code}}</td>
                                    <td>{{detail.baseImponible}}</td>
                                    <td>{{detail.percentage}}</td>
                                    <td>{{detail.total}}</td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>TOTAL</b></td>
                                    <td>{{(vm.totalRetention).toFixed(2)}}</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title = "Aceptar y Agregar Retención" class="btn btn-success btn-sm" ng-click="vm.addRetentionToDailybookCxP()" 
                            data-dismiss="modal">
                            <span class = "glyphicon glyphicon-thumbs-up" aria-hidden = "true"></span>
                    </button>
                    <button type="button" title = "Salir" class="btn btn-primary btn-sm" data-dismiss="modal">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--BUSQUEDA DE DEBTS TO PAY POR PROVEEDOR-->
    <div id="modalShowDebtsToPay" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class = "modal-title">Facturas de Compra por Proveedor</h4>
                </div>
                <div class="modal-body">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Nro. Factura</th>
                                <th>Fecha</th>
                                <th>Valor</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-show="vm.debtsToPayList == 0">
                                <td colspan="4">
                                    No hay Facturas de Compra ingresadas para este Proveedor
                                </td>
                            </tr>
                            <tr ng-repeat="debtsToPay in vm.debtsToPayList | orderBy:'dateCreated':true | filter:searchText">
                                <td>{{debtsToPay.billNumber}}</td>
                                <td>{{debtsToPay.fecha | date : "dd/MM/yyyy"}}</td>
                                <td>{{debtsToPay.total}}</td>
                                <td>
                                    <button type="button" title="Seleccionar Factura" class="btn btn-primary btn-sm" ng-click="vm.debtsToPaySelected(debtsToPay)"
                                            data-dismiss="modal">
                                            <span class = "glyphicon glyphicon-thumbs-up" aria-hidden = "true"></span>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" title = "Salir" class="btn btn-primary btn-sm" data-dismiss="modal"
                            ng-click="vm.retenCodeFuente=undefinded; vm.retenCodeIva=undefinded">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--INGRESO DE LAS CUENTAS IVA Y PROVEEDOR-->
    <div id = "modalBaseImponibleIVA" class = "modal fade" role = "dialog">
        <div class = "modal-dialog">
            <div class = "modal-content">
                <div class = "modal-header">
                    <button type = "button" class = "close" data-dismiss = "modal">&times;</button>
                </div>
                <div class = "modal-body">
                    <div class = "row">
                        <div class = "form-group col-md-9">
                            <label>Ingreso de Base Imponible para calculo del IVA</label>
                        </div>
                        <div class = "form-group col-md-3">
                            <input type = "text" onkeypress = "return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                   class = "form-control" maxlength = "9" ng-model = "vm.item.baseImponible"/>
                        </div>
                    </div>
                </div>
                <div class = "modal-footer">
                    <button type = "button" title = "Aceptar" class = "btn btn-success btn-sm" data-dismiss = "modal" ng-click="vm.addIvaAndProvider()">
                            <span class = "glyphicon glyphicon-thumbs-up" aria-hidden = "true"></span>
                    </button>
                    <button type = "button" title = "Salir" class = "btn btn-primary btn-sm" data-dismiss = "modal"
                            ng-click = "vm.item = undefined; vm.indexEdit = undefined;">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!--FIN DE DIARIO CXP-->
</div>