<div style="width: 100%;height: 100%;top: 0px;left: 0px;position: fixed;display: block; z-index: 99; background: rgba(255, 255, 255, 0.3)" ng-show="vm.loading">
    <div style="position: absolute;top: 15%;z-index: 100; width: 100%; text-align: center;">
        <div class="sk-circle">
            <div class="sk-circle1 sk-child"></div>
            <div class="sk-circle2 sk-child"></div>
            <div class="sk-circle3 sk-child"></div>
            <div class="sk-circle4 sk-child"></div>
            <div class="sk-circle5 sk-child"></div>
            <div class="sk-circle6 sk-child"></div>
            <div class="sk-circle7 sk-child"></div>
            <div class="sk-circle8 sk-child"></div>
            <div class="sk-circle9 sk-child"></div>
            <div class="sk-circle10 sk-child"></div>
            <div class="sk-circle11 sk-child"></div>
            <div class="sk-circle12 sk-child"></div>
        </div>
    </div>
</div>

<div class="form-group col-md-12">
    <div class="header">
        <h4><b>Cuentas por Pagar</b></h4>
    </div>

    <div class="row" ng-show="vm.error !== undefined">
        <div class="form-group col-md-12">
            <div class="alert alert-danger">{{vm.error}}</div>
        </div>
    </div>
    <div class="row" ng-show="vm.success !== undefined">
        <div class="form-group col-md-12">
            <div class="alert alert-success">{{vm.success}}</div>
        </div>
    </div>

    <!--SECCIÓN DE CARGA DE PROVEEDORES POR USERCLIENT-->
    <div class="table-responsive" ng-show="vm.providerSelected === undefined && vm.debtsToPayList === undefined && vm.providerDebtsList === undefined && vm.debtsProviderSelected === undefined && vm.debtsToPaySelectedToUpdate === undefined && vm.allDebtsToPayList === undefined && vm.multipleSelected === undefined">
        <div class="row">
            <div class="form-group col-md-12">
                <input ng-model="searchText" class="form-control" placeholder="Buscar Proveedores">
            </div>
        </div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>C&oacute;digo</th>
                    <th>Nombre</th>
                    <th>No. Identidad</th>
                    <th>
                        <button type="button" title="Busqueda por Detalles" class="btn btn-primary btn-sm" ng-click="vm.getAllDebtsToPay()">
                                Busqueda por Detalles
                        </button>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr ng-show="vm.providerList == 0">
                    <td colspan="4">
                        No hay proveedores ingresados
                    </td>
                </tr>
                <tr ng-repeat="provider in vm.providerList | orderBy:'name' | filter:searchText">
                    <td>{{provider.codeIntegridad}}</td>
                    <td>{{provider.name}}</td>
                    <td>{{provider.ruc_type}} - {{provider.ruc}}</td>
                    <td>
                        <button type = "button" title = "Ingreso de Factura de Compra" class = "btn btn-primary btn-sm" ng-click = "vm.providerSelect(provider)">
                                <span class = "glyphicon glyphicon-file" aria-hidden = "true"></span>
                        </button>
                        <button type = "button" title = "Consultar Facturas de Compra" class = "btn btn-primary btn-sm" ng-click = "vm.consultProviderDebts(provider)">
                                <span class = "glyphicon glyphicon-search" aria-hidden = "true"></span>
                        </button>
                        <button type = "button" title = "Pago Individual de Factura" class = "btn btn-primary btn-sm" ng-click = "vm.providerDebts(provider)">
                                <span class = "glyphicon glyphicon-usd" aria-hidden = "true"></span>
                        </button>
                        <button type = "button" title = "Pago Múltiple de Facturas" class = "btn btn-success btn-sm" ng-click = "vm.providerMultipleDebts(provider)">
                                <span class = "glyphicon glyphicon-usd" aria-hidden = "true"></span>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="row">
            <div class="form-group col-md-12">
                <button type="button" title="Salir" class="btn btn-danger btn-sm"
                        ng-click="vm.exit()">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>

    <div class="table-responsive" ng-show = "vm.allDebtsToPayList !== undefined">
        <div class = "panel panel-primary">
            <div class = "panel-heading">
                <h4>Consulta de Cuentas por Pagar</h4>
            </div>
            <div class = "panel-body">
                <label>B&uacute;squeda de Cuentas</label>
                <input ng-model="searchText" class="form-control" placeholder="Buscar">
                <table class = "table table-striped">
                    <thead>
                        <tr>
                            <th>No. Factura</th>
                            <th>No. Retenci&oacute;n</th>
                            <th>Descripci&oacute;n</th>
                            <th>Fecha</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat = "debts in vm.allDebtsToPayList | orderBy:'billNumber':true | filter:searchText">
                            <td>{{debts.billNumber}}</td>
                            <td>{{debts.retentionNumber}}</td>
                            <td>{{debts.observacion}}</td>
                            <td>{{debts.fecha | date : "dd/MM/yyyy"}}</td>
                            <td>{{debts.total}}</td>
                            <td>
                                <button type = "button" title = "Ver Cuenta por Pagar" 
                                        class = "btn btn-primary btn-sm" ng-click = "vm.debtsToPayToPrint(debts)">
                                        <span class = "glyphicon glyphicon-eye-open" aria-hidden = "true"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class = "panel-footer">
                <button type = "button" title = "Salir" class = "btn btn-primary btn-sm" ng-click = "vm.cancel()">
                        <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--SECCIÓN DE INGRESO DE DETALLES DE FACTURA PARA CUENTAS POR PAGAR-->
    <div ng-show="vm.providerSelected !== undefined">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h4>Ingreso de Cuenta por Pagar</h4>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="form-group col-md-6">
                        <b>Cuenta por Pagar Nro: </b>{{vm.seqNumber}}
                        &nbsp;&nbsp;&nbsp;
                        <a data-toggle="modal" data-target="#modalEditDebtsToPayNumber" ng-click="vm.verifyUser()">
                            <b>Editar</b>
                        </a>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>C&oacute;digo Proveedor:</label>
                        {{vm.debtsToPay.provider.codeIntegridad}}
                    </div>
                    <div class="form-group col-md-6">
                        <label ng-if="vm.debtsToPay.provider.ruc_type === 'RUC'">RUC:</label>
                        <label ng-if="vm.debtsToPay.provider.ruc_type === 'CED'">CEDULA:</label>
                        <label ng-if="vm.debtsToPay.provider.ruc_type === 'PAS'">PASAPORTE:</label>
                        {{vm.debtsToPay.provider.ruc}}
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>Nombre Comercial:</label>
                        {{vm.debtsToPay.provider.name}}
                    </div>
                    <div class="form-group col-md-6">
                        <label>Raz&oacute;n Social:</label>
                        {{vm.debtsToPay.provider.razonSocial}}
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-12">
                        <label>Tipo de Proveedor:</label>
                        {{vm.debtsToPay.provider.providerType}}
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label>Tipo de Comprobante de Compra:</label>
                        <select ng-options="typeDoc.code as typeDoc.name for typeDoc in vm.voucherType | orderBy:'name' track by typeDoc.code" ng-model="vm.debtsToPay.buyTypeVoucher"
                                class="form-control">
                        </select>
                    </div> 
                    <div class="form-group col-md-6">
                        <label>Tipo de C&oacute;digo Sustento:</label>
                        <select ng-options="typeDocs.code as typeDocs.name for typeDocs in vm.supportType | orderBy:'name' track by typeDocs.code" ng-model="vm.debtsToPay.purchaseType"
                                class="form-control">
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-3">
                        <label>Fecha del Documento: </label>
                        <div class="input-group date" id="pickerDateDebtsToPay">
                            <input type="text" class="form-control input-group-addon"/>
                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"/></span>
                        </div>
                        <script>
                            var defaultDate = new Date();
                            $('#pickerDateDebtsToPay').datetimepicker({format: "DD/MM/YY",});
                        </script>
                    </div>
                    <div class="form-group col-md-3">
                        <label>Ejercicio Fiscal:</label><br/>
                        <label>{{vm.ejercicio}}</label>
                    </div>
                    <div class="form-group col-md-6">
                        <label>N&uacute;mero de Factura:</label><br/>
                        <div class="form-group col-md-3">
                            <input type="text" ng-model="vm.threeNumberOne" onkeypress="return ((event.which >= 48 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                   class="form-control" maxlength="3">
                        </div>
                        <div class="form-group col-md-3">
                            <input type="text" ng-model="vm.threeNumberTwo" onkeypress="return ((event.which >= 48 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                   class="form-control" maxlength="3">
                        </div>
                        <div class="form-group col-md-6">
                            <input type="text" ng-model="vm.seccondPartNumber" onkeypress="return ((event.which >= 48 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                   class="form-control" maxlength="9">
                        </div>
                    </div>          
                </div>
                <div class="row">
                    <div class="form-group col-md-9">
                        <label>N&uacute;mero de Autorizaci&oacute;n:</label><br/>
                        <input type="text" ng-model="vm.debtsToPay.authorizationNumber" onkeypress="return ((event.which >= 48 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                               class="form-control" maxlength="90">
                    </div>
                    <div class="form-group col-md-3">
                        <label>Valor Total:</label>
                        <input type="text" ng-model="vm.debtsToPay.total"
                               class="form-control" maxlength="20">
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-3">
                        <br/>
                        <button type = "button" title = "Buscar y Agregar Retención" class = "btn btn-primary btn-block"
                                ng-click = "vm.getRetentionByProviderAndDocumentNumber()" data-toggle = "modal" data-target = "#modalFindRetention">
                                Buscar Retenci&oacute;n
                        </button>
                    </div>
                    <div class="form-group col-md-4">
                        <label>Impuesto:</label><br/>
                        <label class="radio-inline"><input type="radio" ng-model="vm.debtsToPay.typeTaxes" value="1" name="tipo"
                               ng-change="vm.getPercentageTableAll()">IVA</label>
                        <label class="radio-inline"><input type="radio" ng-model="vm.debtsToPay.typeTaxes" value="2" name="tipo"
                               ng-change="vm.getPercentageTableAll()">IVA "0"</label>
                    </div>
                    <div class="form-group col-md-5">
                        <label>Tipo de Compra</label>
                        <select ng-options="purType.code as purType.name for purType in vm.purchaseType | orderBy:'name' track by purType.code" ng-model="vm.debtsToPay.tipoDeCompra"
                                ng-change="vm.selectPurchaseTable(vm.debtsToPay.tipoDeCompra)" class="form-control">
                        </select>
                    </div>
                </div>
                <div class="row" ng-show="vm.retenSelected === true">
                    <div class="form-group col-md-4">
                        <label>Nro. Retención</label><br/>
                        {{vm.retentionNumber}}
                    </div>
                    <div class="form-group col-md-4">
                        <label>Fecha de Retención</label><br/>
                        {{vm.retentionDateCreated | date : "dd/MM/yyyy"}}
                    </div>
                    <div class="form-group col-md-4">
                        <label>Valor Retención</label><br/>
                        {{(vm.retentionTotal).toFixed(2)}}
                    </div>
                </div>
                <div class="row table-responsive" ng-show="vm.cuentaContableList !== undefined">
                    <div class="form-group col-md-12">
                        <input ng-model="searchTextTaxes" class="form-control" placeholder="Buscar">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Tipo de Cuenta</th>
                                    <th>Nombre G&eacute;nerico</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-show="vm.cuentaContableList == 0">
                                    <td colspan="2">
                                        No hay Fuente Seleccionada
                                    </td>
                                </tr>
                                <tr dir-paginate = "cc in vm.cuentaContableList | orderBy:'type' | filter:searchTextTaxes | itemsPerPage: 5"  pagination-id = "taxesPagination">
                                    <td>{{cc.accountType}}</td>
                                    <td>{{cc.name}}</td>
                                    <td>
                                        <button type = "button" title = "Seleccionar" class = "btn btn-primary btn-sm"
                                                ng-click = "vm.selectTaxes(cc)" data-toggle = "modal" data-target = "#modalSelectedTaxes">
                                                <span class = "glyphicon glyphicon-check" aria-hidden = "true"></span>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <dir-pagination-controls pagination-id = "taxesPagination"></dir-pagination-controls>
                    </div>
                </div>
                <div class = "row table-responsive">
                    <div class = "form-group col-md-12">
                        <table class = "table table-striped">
                            <thead>
                                <tr>
                                    <th>CÓDIGO</th>
                                    <th>CUENTA ASOCIADA</th>
                                    <th>DESCRIPCIÓN</th>
                                    <th>TIPO</th>
                                    <th>VALOR</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-show = "vm.debtsToPay.items == 0">
                                    <td colspan = "5">
                                        No hay Fuente Seleccionada
                                    </td>
                                </tr>
                                <tr ng-repeat = "i in vm.debtsToPay.items" >
                                    <td>{{i.codigo_contable}}</td>
                                    <td>{{i.desc_contable}}</td>
                                    <td>{{i.nomb_contable}}</td>
                                    <td>{{i.tipo}}</td>
                                    <td>{{i.base_imponible}}</td>
                                    <td>
                                        <button type = "button" title = "Editar" class = "btn btn-primary btn-sm"
                                                ng-click = "vm.editItemTaxes($index)" data-toggle = "modal" data-target = "#modalEditTaxes">
                                                <span class = "glyphicon glyphicon-pencil" aria-hidden = "true"></span>
                                        </button>
                                        <button type = "button" title = "Eliminar" class = "btn btn-primary btn-sm"
                                                ng-click = "vm.deleteItemTaxes($index)">
                                                <span class = "glyphicon glyphicon-trash" aria-hidden = "true"></span>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>DEBE: {{vm.getTotalDebito()}}</td>
                                    <td>HABER: {{vm.getTotalCredito()}}</td>
                                    <td><b>SALDO: {{vm.getTotalSaldo()}}</b></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div> 
                    <div class="form-group col-md-12">
                        <label>Descripci&oacute;n:</label>
                        <input type="text" class="form-control" ng-model="vm.debtsToPay.observacion">
                    </div>
                </div>
            </div>
            <div class="panel-footer">
                <button type="button" title = "Agregar Cuentas IVA y Proveedor" class="btn btn-primary btn-sm"
                        data-toggle = "modal" data-target = "#modalBaseImponibleIVA" ng-disabled = "vm.getTotalSaldo() == 0.00">
                        IVA y Proveedor
                </button>
                <button type = "button" title = "Forma de Pago" class = "btn btn-success btn-sm" 
                        ng-disabled = "vm.getTotalSaldo() != 0.00 || vm.debtsToPay.authorizationNumber === undefined || vm.debtsToPay.authorizationNumber == ''"
                        data-toggle = "modal" data-target = "#modalAddPago">
                        <span class = "glyphicon glyphicon-usd" aria-hidden = "true"></span>
                </button>
                <button type = "button" title = "Salir" class = "btn btn-primary btn-sm"
                        ng-click = "vm.cancel()">
                        <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--EDITAR NUMERO DE FACTURA DE COMPRAS-->
    <div id="modalEditDebtsToPayNumber" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content" ng-show="vm.isEmp">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Editar N&uacute;mero de Cuenta por Pagar</h4>
                </div>
                <div class="modal-body">
                    <div class="row" ng-show="vm.errorValidateAdm !== undefined">
                        <div class="form-group col-md-12">
                            <div class="alert alert-danger">
                                {{vm.errorValidateAdm}}
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-12">
                            <b>CLAVE ADMINISTRADOR: </b>
                            <input type="password" ng-model="vm.passwordAdm" class="form-control">
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-12">
                            <button type="button" title="Validar" class="btn btn-primary btn-sm" ng-click="vm.validateAdm()" ng-disabled="vm.passwordAdm === undefined">
                                    <span class = "glyphicon glyphicon-tags" aria-hidden = "true"></span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
    
            <div class="modal-content" ng-show="!vm.isEmp">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Editar N&uacute;mero de Cuenta por Pagar</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-12">
                            <b>NUEVO NUMERO DE CUENTA POR PAGAR: </b>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <input type="text" onkeypress="return ((event.which >= 48 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                   ng-model="vm.newSeqNumber" class="form-control" maxlength="6">
                        </div>
                    </div>
                    <div class="row" ng-show="vm.seqErrorNumber !== undefined">
                        <div class="form-group col-md-12">
                            <div class="alert alert-danger">
                                {{vm.seqErrorNumber}}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title="Aceptar" class="btn btn-success btn-sm" ng-click="vm.acceptNewSeq()">
                            <span class = "glyphicon glyphicon-thumbs-up" aria-hidden = "true"></span>
                    </button>
                    <button type="button" title = "Salir" class="btn btn-primary btn-sm" data-dismiss="modal">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--SECCIÓN DE BUSQUEDA DE RETENCIONES POR PROVEEDOR-->
    <div id="modalFindRetention" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class = "modal-title">Retenciones por Proveedor</h4>
                </div>
                <div class="modal-body">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Nro. Retenci&oacute;n</th>
                                <th>Fecha</th>
                                <th>Nro. Factura</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-show="vm.retentionList == 0">
                                <td colspan="4">
                                    No hay Retenciones ingresadas para este Proveedor
                                </td>
                            </tr>
                            <tr ng-repeat="retention in vm.retentionList | orderBy:'dateCreated':true | filter:searchText">
                                <td>{{retention.stringSeq}}</td>
                                <td>{{retention.dateCreated | date : "dd/MM/yyyy"}}</td>
                                <td>{{retention.documentNumber}}</td>
                                <td>
                                    <button type="button" title="Ver Retención" class="btn btn-primary btn-sm" ng-click="vm.retentionSelected(retention)"
                                            data-dismiss="modal" data-toggle="modal" data-target="#modalViewAndSelectRetention">
                                            <span class = "glyphicon glyphicon-eye-open" aria-hidden = "true"></span>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" title = "Salir" class="btn btn-primary btn-sm" data-dismiss="modal"
                            ng-click="vm.retenCodeFuente=undefined; vm.retenCodeIva=undefined">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--MODAL DE VISUALIZACIÓN Y SELECCIÓN DE LA RETENCIÓN PARA LA CUENTA POR PAGAR-->
    <div id="modalViewAndSelectRetention" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type = "button" class = "close" data-dismiss = "modal">&times;</button>
                    <h4 class = "modal-title">Datos de la Retenci&oacute;n</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-md-12 ">
                            <table width="100%">
                                <tr>
                                    <td>
                                        <div>
                                            <b>COMPROBANTE DE RETENCIÓN</b><br/>
                                            <b>No: {{vm.retention.stringSeq}}</b><br/>
                                            <b>AUTORIZACIÓN: {{vm.retention.claveDeAcceso}}</b><br/>
                                            <b>FECHA DE EMISIÓN: {{vm.retention.dateCreated | date : "dd-MM-yyyy"}}</b><br/>
                                            <b>FACTURA: {{vm.retention.documentNumber}}</b><br/>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-12 ">
                            <table width="100%">
                                <tr>
                                    <td width="50%">
                                        <div >
                                            <label>Raz&oacute;n social / Nombres y Apellidos: </label>
                                            {{vm.retention.provider.razonSocial}}
                                        </div>
                                    </td>
                                    <td width="50%" style=" padding-left: 10px">
                                        <label>identificaci&oacute;n: </label>
                                        {{vm.retention.provider.ruc}}
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div >
                                            <label>Fecha del Documento: </label>
                                            {{vm.retention.documentDate | date : "dd-MM-yyyy"}}
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div >
                                        <label>Direcci&oacute;n: </label>
                                        {{vm.retention.provider.address1}}
                                        </div>
                                    </td>
                                    <td style=" padding-left: 10px">
                                        <label>E-mail: </label>
                                        {{vm.retention.provider.email}}
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-12 ">
                            <table width="100%" border="1">
                                <tr>
                                    <td><b>EJERCICIO FISCAL</b></td>
                                    <td><b>TIPO IMPUESTO</b></td>
                                    <td><b>CÓDIGO</b></td>
                                    <td><b>BASE IMPONIBLE</b></td>
                                    <td><b>RETENCIONES %</b></td>
                                    <td><b>VALOR</b></td>
                                </tr>
                                <tr ng-repeat="detail in vm.retention.detailRetentions">
                                    <td>{{vm.retention.ejercicioFiscal}}</td>
                                    <td>{{detail.taxType}}</td>
                                    <td>{{detail.code}}</td>
                                    <td>{{detail.baseImponible}}</td>
                                    <td>{{detail.percentage}}</td>
                                    <td>{{detail.total}}</td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>TOTAL</b></td>
                                    <td>{{(vm.totalRetention).toFixed(2)}}</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" title = "Aceptar y Agregar Retención" class="btn btn-success btn-sm" ng-click="vm.addRetentionToDebtsDetail()" 
                            data-dismiss="modal">
                            <span class = "glyphicon glyphicon-thumbs-up" aria-hidden = "true"></span>
                    </button>
                    <button type="button" title = "Salir" class="btn btn-primary btn-sm" data-dismiss="modal">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!--SECCIÓN DE INGRESO DE LAS CUENTAS IVA Y PROVEEDOR-->
    <div id = "modalBaseImponibleIVA" class = "modal fade" role = "dialog">
        <div class = "modal-dialog">
            <div class = "modal-content">
                <div class = "modal-header">
                    <button type = "button" class = "close" data-dismiss = "modal">&times;</button>
                </div>
                <div class = "modal-body">
                    <div class = "row">
                        <div class = "form-group col-md-9">
                            <label>Ingreso de Base Imponible para calculo del IVA</label>
                        </div>
                        <div class = "form-group col-md-3">
                            <input type = "text" onkeypress = "return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                   class = "form-control" maxlength = "9" ng-model = "vm.item.base_imponible"/>
                        </div>
                    </div>
                </div>
                <div class = "modal-footer">
                    <button type = "button" title = "Aceptar" class = "btn btn-success btn-sm" data-dismiss = "modal" ng-click="vm.addIvaAndProvider()">
                            <span class = "glyphicon glyphicon-thumbs-up" aria-hidden = "true"></span>
                    </button>
                    <button type = "button" title = "Salir" class = "btn btn-primary btn-sm" data-dismiss = "modal"
                            ng-click = "vm.item = undefined; vm.indexEdit = undefined;">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--SECCIÓN DE SELECCION DE LOS TAXES-->
    <div id = "modalSelectedTaxes" class = "modal fade" role = "dialog">
        <div class = "modal-dialog">
            <div class = "modal-content">
                <div class = "modal-header">
                    <button type = "button" class = "close" data-dismiss = "modal">&times;</button>
                </div>
                <div class = "modal-body">
                    <div class = "row">
                        <div class = "form-group col-md-3">
                            <label>C&oacute;digo:</label>  
                            <b>{{vm.item.codigo_contable}}</b>
                        </div>
                        <div class = "form-group col-md-3">
                            <label>Nombre:</label>
                            <b>{{vm.item.desc_contable}}</b>
                        </div>
                        <div class = "form-group col-md-3" ng-if = "vm.item.codigo === 1">
                            <label>Valor</label>
                            <input type = "text" onkeypress = "return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                   class = "form-control" maxlength = "9" ng-model = "vm.item.base_imponible" placeholder = "{{vm.getBaseImponibleCodigo_1()}}"/>
                        </div>
                        <div class = "form-group col-md-3" ng-if="vm.item.codigo === 2">
                            <label>Valor</label>
                            <input type = "text" onkeypress = "return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                   class = "form-control" maxlength = "9" ng-model = "vm.item.base_imponible" placeholder = "{{vm.getBaseImponibleCodigo_2()}}"/>
                        </div>
                    </div>
                </div>
                <div class = "modal-footer">
                    <button type = "button" title = "Aceptar" class = "btn btn-success btn-sm" data-dismiss = "modal" ng-click = "vm.addItem()">
                            <span class = "glyphicon glyphicon-thumbs-up" aria-hidden = "true"></span>
                    </button>
                    <button type = "button" title = "Salir" class = "btn btn-primary btn-sm" data-dismiss = "modal"
                            ng-click = "vm.item = undefined; vm.indexEdit = undefined;">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id = "modalEditTaxes" class = "modal fade" role = "dialog">
        <div class = "modal-dialog">
            <div class = "modal-content">
                <div class = "modal-header">
                    <button type = "button" class = "close" data-dismiss = "modal">&times;</button>
                </div>
                <div class = "modal-body">
                    <div class = "row">
                        <div class = "form-group col-md-3">
                            <label>C&oacute;digo:</label>  
                            <b>{{vm.item.codigo_contable}}</b>
                        </div>
                        <div class = "form-group col-md-3">
                            <label>Nombre:</label>
                            <b>{{vm.item.desc_contable}}</b>
                        </div>
                        <div class = "form-group col-md-3">
                            <label>Valor</label>
                            <input type = "text" onkeypress = "return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                   class = "form-control" maxlength = "9" ng-model = "vm.item.base_imponible"/>
                        </div>
                    </div>
                </div>
                <div class = "modal-footer">
                    <button type = "button" title = "Aceptar" class = "btn btn-success btn-sm" data-dismiss = "modal" ng-click = "vm.addItem()">
                            <span class = "glyphicon glyphicon-thumbs-up" aria-hidden = "true"></span>
                    </button>
                    <button type = "button" title = "Salir" class = "btn btn-primary btn-sm" data-dismiss = "modal"
                            ng-click = "vm.item = undefined; vm.indexEdit = undefined;">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--MODALIDAD DE PAGO-->
    <div id = "modalAddPago" class = "modal fade" role = "dialog">
        <div class = "modal-dialog">
            <div class = "modal-content">
                <div class = "modal-header">
                    <button type = "button" class = "close" data-dismiss = "modal" ng-click = "vm.medio={}">&times;</button>
                    <h4 class = "modal-title">Agregar Pago</h4>
                    TOTAL: {{vm.debtsToPay.total}}
                </div>
                <div class = "modal-body">
                    <div class = "row">
                        <div class = "form-group col-md-4">
                            <b>TIPO DE PAGO: </b>
                            <select ng-options = "medi.code as medi.name for medi in vm.medLista  | orderBy:'name'  track by medi.code"
                                    ng-model = "vm.medio.medio" class = "form-control" ng-change = "vm.loadMedio()">
                            </select>
                        </div>
                        <div class = "form-group col-md-4">
                            <b>PAIS: </b>
                            <select ng-options = "medi.name as medi.name for medi in vm.countries  | orderBy:'name'  track by medi.code"
                                    ng-model = "vm.medio.country" class = "form-control" ng-change = "vm.loadMedio()">
                            </select>
                        </div>
                        <div class = "form-group col-md-4">
                            <b>FORMA DE PAGO: </b><br />
                            {{vm.medio.payForm}}
                        </div>
                    </div>
                    <div class = "row" ng-show = "vm.medio.medio === 'credito'">
                        <div class = "form-group col-md-4">
                            <b>NUMERO DE PAGOS: </b>
                            <input type = "text" onkeypress = "return ((event.which >= 48 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                   ng-model = "vm.medio.creditoNumeroPagos" class = "form-control" maxlength = "2">
                        </div>
                        <div class = "form-group col-md-4">
                            <b>INTERVALOS DE DIAS: </b><br/>
                            <input type = "text" onkeypress = "return ((event.which >= 48 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                   ng-model = "vm.medio.creditoIntervalos" class = "form-control" maxlength = "3">
                        </div>
                        <div class = "form-group col-md-4">
                            <br/>
                            <button type = "button" title = "Calcular" class = "btn btn-primary btn-sm" ng-click = "vm.loadCredit()"
                                    ng-disabled = "vm.medio.creditoIntervalos === undefined || vm.medio.creditoNumeroPagos === undefined">
                                    <span class = "glyphicon glyphicon-th" aria-hidden = "true"></span>
                            </button>
                        </div>
                    </div>
                    <div class = "row" ng-show = "vm.medio.medio === 'credito'">
                        <div class = "form-group col-md-12">
                            <table class = "table table-striped">
                                <thead>
                                    <tr>
                                        <th>PAGO</th>
                                        <th>DIAS PLAZO</th>
                                        <th>FECHAS</th>
                                        <th>VALOR</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat = "cred in vm.medio.creditsDebts">
                                        <td>{{cred.payNumber}}</td>
                                        <td>{{cred.diasPlazo}}</td>
                                        <td>{{cred.fecha | date:'dd/MM/yyyy'}}</td>
                                        <td>{{cred.valor}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class = "row">
                        <div class="form-group col-md-4" ng-if="vm.medio.medio !== 'credito'">
                            <b>VALOR: </b>
                            <input type = "text" onkeypress = "return ((event.which >= 46 && event.which <= 57) || (event.keyCode == 9 || event.keyCode == 8))"
                                   ng-model = "vm.medio.total" class = "form-control" maxlength = "9">
                        </div>
                        <div class="form-group col-md-4" ng-if="vm.medio.medio !== 'credito'">
                            <b>VALOR: </b><br />
                            ${{vm.medio.total}}
                        </div>
                        <div class = "form-group col-md-4">
                            <br/>
                            <button type = "button" title = "Agregar Pago" class = "btn btn-primary btn-sm" ng-click = "vm.addPago()"
                                    ng-disabled = "vm.medio.medio === undefined || vm.medio.total === undefined">
                                    <span class = "glyphicon glyphicon-plus" aria-hidden = "true"></span>
                            </button>
                        </div>
                    </div>
                    <div class = "row">
                        <div class = "col-md-12">
                            <table class = "table table-striped">
                                <thead>
                                    <tr>
                                        <th>Medio</th>
                                        <th>Valor</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-show = "vm.pagos == 0">
                                        <td colspan = "4">
                                            No hay pagos ingresados
                                        </td>
                                    </tr>
                                    <tr ng-repeat = "pago in vm.pagos">
                                        <td>{{pago.medio}}</td>
                                        <td>{{pago.total.toFixed(2)}}</td>
                                        <td>
                                            <button type = "button" title = "Eliminar Pago" class = "btn btn-primary btn-sm" ng-click = "vm.removePago($index)">
                                                    <span class = "glyphicon glyphicon-trash" aria-hidden = "true"></span>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><b>TOTAL</b></td>
                                        <td>{{vm.getTotalPago()}}</td>
                                        <td>
                                            Vuelto: {{vm.getCambio}}
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class = "modal-footer">
                    <button type = "button" title = "Guardar Cuenta" class = "btn btn-success btn-sm" ng-if="vm.update === false"
                            ng-click = "vm.saveDebtsToPay(vm.debtsToPay); vm.cancel()" ng-disabled = "vm.pagos.length === 0">
                            <span class = "glyphicon glyphicon-floppy-save" aria-hidden = "true"></span>
                    </button>
                    <button type="button" title = "Salir" class="btn btn-primary btn-sm" data-dismiss="modal">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--SECCIÓN DE CARGA DE LAS CUENTAS POR PAGAR POR PROVEEDOR PARA EL PAGO INDIVIDUAL DE FACTURAS-->
    <div class="table-responsive" ng-show = "vm.debtsToPayList !== undefined">
        <div class = "panel panel-primary">
            <div class = "panel-heading">
                <h4>Pagos Individuales de Facturas</h4>
                <div>
                    <b>Cuentas por Pagar Pertenecientes a: {{vm.providerName}}</b>
                </div>
            </div>
            <div class = "panel-body">
                <table class = "table table-striped">
                    <thead>
                        <tr>
                            <th>No. Cuenta</th>
                            <th>No. Factura</th>
                            <th>Fecha</th>
                            <th>Total</th>
                            <th>Pendiente</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-show = "vm.debtsToPayList == 0">
                            <td colspan = "4">
                                El Proveedor <b>No Presenta</b> Cuentas por Pagar Ingresadas...
                            </td>
                        </tr>
                        <tr ng-repeat = "debts in vm.debtsToPayList">
                            <td>{{debts.debtsSeq}}</td>
                            <td>{{debts.billNumber}}</td>
                            <td>{{debts.fecha | date : "dd/MM/yyyy"}}</td>
                            <td>{{debts.total}}</td>
                            <td>{{debts.saldo}}</td>
                            <td>
                                <button type = "button" title = "Buscar Cuotas" class = "btn btn-primary btn-sm" 
                                        ng-click = "vm.creditsByDebts(debts)" data-toggle = "modal" data-target = "#modalCuotasDebts">
                                        <span class = "glyphicon glyphicon-search" aria-hidden = "true"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class = "panel-footer">
                <button type = "button" title = "Salir" class = "btn btn-primary btn-sm" ng-click = "vm.cancel()">
                        <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--SECCIÓN DE CARGA DE LOS CRÉDITOS POR CUENTAS POR PAGAR-->
    <div id = "modalCuotasDebts" class = "modal fade" role = "dialog">
        <div class = "modal-dialog">
            <div class = "modal-content">
                <div class = "modal-header">
                    <button type = "button" class = "close" data-dismiss = "modal">&times;</button>
                    <h4 class = "modal-title">Listado de Cuotas por Cuenta por Pagar</h4>
                </div>
                <div class = "modal-body">
                    <table class = "table table-striped">
                        <thead>
                            <tr>
                                <th>Fecha Limite</th>
                                <th>N&uacute;mero de Pagos</th>
                                <th>Saldo por Cancelar</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-show = "vm.creditsDebtsList == 0">
                                <td colspan = "4">
                                    La Cuenta por Pagar <b>No Presenta</b> Cobros Pendientes por Cancelar...
                                </td>
                            </tr>
                            <tr ng-repeat = "creditsDebts in vm.creditsDebtsList | orderBy : 'payNumber' : true">
                                <td>{{creditsDebts.fecha | date : "dd/MM/yyyy"}}</td>
                                <td>{{creditsDebts.payNumber}}</td>
                                <td>{{(creditsDebts.valor).toFixed(2)}}</td>
                                <td>
                                    <button type = "button" title = "Abonar Pago" class = "btn btn-primary btn-sm" ng-click = "vm.createAbonoDebts(creditsDebts)"
                                            data-dismiss = "modal" data-toggle = "modal" data-target = "#modalAbonarDebts">
                                            <span class = "glyphicon glyphicon-plus" aria-hidden = "true"></span>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" title = "Salir" class="btn btn-primary btn-sm" data-dismiss="modal">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--SECCIÓN DE PAGO DE LAS CUOTAS POR CUENTA POR PAGAR-->
    <div id = "modalAbonarDebts" class = "modal fade" role = "dialog">
        <div class = "modal-dialog">
            <div class = "modal-content">
                <div class = "modal-header">
                    <button type = "button" class = "close" data-dismiss = "modal">&times;</button>
                    <h4 class = "modal-title">Pago de Cuotas</h4>
                </div>
                <div class = "modal-body">
                    <div class = "row">
                        <div class = "form-group col-md-6">
                            <label>Nombre del Proveedor:</label><br/>
                            <b>{{vm.providerName}}</b>
                        </div>
                        <div class = "form-group col-md-6">
                            <label>Identificaci&oacute;n del Proveedor:</label><br/>
                            <b>{{vm.providerRuc}}</b><br/>
                        </div>
                    </div>
                    <div class = "row">
                        <div class = "form-group col-md-6">
                            <label>Fecha de Pago: </label>
                            <div class = "input-group date" id="pickerDateOfPayment">
                                <input type = "text" class="form-control input-group-addon"/>
                                <span class = "input-group-addon"><span class = "glyphicon glyphicon-calendar"/></span>
                            </div>
                            <script>
                                $('#pickerDateOfPayment').datetimepicker({
                                    format: "DD/MM/YY",
                                });
                            </script>
                        </div>
                        <div class = "form-group col-md-6">
                            <label>Seleccione el Tipo de Abono:</label><br/>
                            <select ng-options = "item.code as item.name for item in [{code:'PAC', name:'PAGO CORRIENTE'}, {code:'RET', name:'ABONO POR RETENCIÓN'}, {code:'CEG', name:'ABONO COMP. EGRESO'}]"
                                    ng-model = "vm.paymentDebts.typePayment" class = "form-control">
                            </select>
                        </div>
                    </div>
                    <div class = "row" ng-show = "vm.paymentDebts.typePayment === 'PAC'">
                        <div class = "form-group col-md-12">
                            <label>Seleccione Modalidad de Pago:</label><br/>
                            <label class = "radio-inline"><input type="radio" ng-model = "vm.paymentDebts.modePayment" 
                                   value = "EFC" name = "efectivo">Efectivo</label>
                            <label class = "radio-inline"><input type="radio" ng-model = "vm.paymentDebts.modePayment" 
                                   value = "CHQ" name = "cheque">Cheque</label>
                            <label class = "radio-inline"><input type="radio" ng-model = "vm.paymentDebts.modePayment" 
                                   value = "TRF" name = "transferencia">Transferencia</label>
                            <label class = "radio-inline"><input type="radio" ng-model = "vm.paymentDebts.modePayment" 
                                   value = "TDC" name = "tdc">Tarjeta de Cŕedito</label>
                            <label class = "radio-inline"><input type="radio" ng-model="vm.paymentDebts.modePayment" 
                                   value = "DEP" name = "deposito">Depósito Bancario</label>
                        </div>
                        <div class = "form-group col-md-12">
                            <div class = "row" ng-show = "vm.paymentDebts.modePayment === 'EFC'">
                                <div class = "form-group col-md-6">
                                    <label>Detalle:</label><br/>
                                    <select ng-options = "deta.name as deta.name for deta in [{code: 'APC' ,name:'ABONO PARCIAL DE CUOTA'}, {code: 'ACC', name:'ABONO COMPLEMENTARIO DE CUOTA'}, {code: 'PTC', name:'PAGO TOTAL DE CUOTA'}]"
                                            ng-model = "vm.paymentDebts.detail" class = "form-control">
                                    </select>
                                </div>
                                <div class = "form-group col-md-6">
                                    <label>Monto a Abonar:</label><br/>
                                    <input type = "text" class = "form-control" ng-model = "vm.paymentDebts.valorAbono" placeholder = "{{vm.creditsDebtsValue}}"/>
                                </div>
                            </div>
                            <div class = "row" ng-show = "vm.paymentDebts.modePayment === 'CHQ'">
                                <div class="form-group col-md-12" ng-show="vm.ctaCtableBankList !== undefined">
                                    <input ng-model="searchTextTaxes" class="form-control" placeholder="Buscar">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>N&uacute;mero de Cuenta</th>
                                                <th>Nombre del Banco</th>
                                                <th>Tipo de Cuenta</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-show="vm.ctaCtableBankList == 0">
                                                <td colspan="2">
                                                    No hay Cuentas Contables de Bancos Ingresadas
                                                </td>
                                            </tr>
                                            <tr dir-paginate = "cuenta in vm.ctaCtableBankList | orderBy:'description' | filter:searchTextTaxes | itemsPerPage: 3" pagination-id = "taxesPagination">
                                                <td>{{cuenta.code}}</td>
                                                <td>{{cuenta.accountType}}</td>
                                                <td>{{cuenta.description}}</td>
                                                <td>
                                                    <button type = "button" title = "Seleccionar" class = "btn btn-primary btn-sm"
                                                            ng-click = "vm.selectCtaCtableBank(cuenta)">
                                                            <span class = "glyphicon glyphicon-check" aria-hidden = "true"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <dir-pagination-controls pagination-id = "taxesPagination"></dir-pagination-controls>
                                </div>
                                <div class = "form-group col-md-6">
                                    <label>Banco:</label><br/>
                                    <input type = "text" class = "form-control" ng-model = "vm.bankName"/>
                                </div>
                                <div class = "form-group col-md-6">
                                    <label>N&uacute;mero de Cheque:</label><br/>
                                    <input type = "text" class = "form-control" ng-model = "vm.paymentDebts.noDocument"/>
                                </div>
                                <div class = "form-group col-md-6">
                                    <label>Cuenta Bancaria:</label><br/>
                                    <input type = "text" class = "form-control" ng-model = "vm.paymentDebts.noAccount"/>
                                </div>
                                <div class="form-group col-md-6">
                                    <label>Detalle:</label><br/>
                                    <select ng-options = "deta.name as deta.name for deta in [{code: 'APC' ,name:'ABONO PARCIAL DE CUOTA'}, {code: 'ACC', name:'ABONO COMPLEMENTARIO DE CUOTA'}, {code: 'PTC', name:'PAGO TOTAL DE CUOTA'}]"
                                            ng-model = "vm.paymentDebts.detail" class = "form-control">
                                    </select>
                                </div>
                                <div class = "form-group col-md-6">
                                    <label>Monto a Abonar:</label><br/>
                                    <input type = "text" class = "form-control" ng-model = "vm.paymentDebts.valorAbono" placeholder = "{{vm.creditsDebtsValue}}"/>
                                </div>
                            </div>
                            <div class = "row" ng-show = "vm.paymentDebts.modePayment === 'TRF'">
                                <div class="form-group col-md-12" ng-show="vm.ctaCtableBankList !== undefined">
                                    <input ng-model="searchTextTaxes" class="form-control" placeholder="Buscar">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>N&uacute;mero de Cuenta</th>
                                                <th>Nombre del Banco</th>
                                                <th>Tipo de Cuenta</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-show="vm.ctaCtableBankList == 0">
                                                <td colspan="2">
                                                    No hay Cuentas Contables de Bancos Ingresadas
                                                </td>
                                            </tr>
                                            <tr dir-paginate = "cuenta in vm.ctaCtableBankList | orderBy:'description' | filter:searchTextTaxes | itemsPerPage: 3" pagination-id = "taxesPagination">
                                                <td>{{cuenta.code}}</td>
                                                <td>{{cuenta.accountType}}</td>
                                                <td>{{cuenta.description}}</td>
                                                <td>
                                                    <button type = "button" title = "Seleccionar" class = "btn btn-primary btn-sm"
                                                            ng-click = "vm.selectCtaCtableBank(cuenta)">
                                                            <span class = "glyphicon glyphicon-check" aria-hidden = "true"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <dir-pagination-controls pagination-id = "taxesPagination"></dir-pagination-controls>
                                </div>
                                <div class = "form-group col-md-6">
                                    <label>Banco:</label><br/>
                                    <input type = "text" class = "form-control" ng-model = "vm.bankName"/>
                                </div>
                                <div class = "form-group col-md-6">
                                    <label>N&uacute;mero de Transferencia:</label><br/>
                                    <input type = "text" class = "form-control" ng-model = "vm.paymentDebts.noDocument"/>
                                </div>
                                <div class = "form-group col-md-6">
                                    <label>Cuenta Bancaria:</label><br/>
                                    <input type = "text" class = "form-control" ng-model = "vm.paymentDebts.noAccount"/>
                                </div>
                                <div class="form-group col-md-6">
                                    <label>Detalle:</label><br/>
                                    <select ng-options = "deta.name as deta.name for deta in [{code: 'APC' ,name:'ABONO PARCIAL DE CUOTA'}, {code: 'ACC', name:'ABONO COMPLEMENTARIO DE CUOTA'}, {code: 'PTC', name:'PAGO TOTAL DE CUOTA'}]"
                                            ng-model = "vm.paymentDebts.detail" class = "form-control">
                                    </select>
                                </div>
                                <div class = "form-group col-md-6">
                                    <label>Monto a Abonar:</label><br/>
                                    <input type = "text" class = "form-control" ng-model = "vm.paymentDebts.valorAbono" placeholder = "{{vm.creditsDebtsValue}}"/>
                                </div>
                            </div>
                            <div class = "row" ng-show="vm.paymentDebts.modePayment === 'TDC'">
                                <div class = "form-group col-md-6">
                                    <label>N&uacute;mero de Tarjeta:</label><br/>
                                    <input type = "text" class = "form-control" ng-model = "vm.paymentDebts.noDocument"/>
                                </div>
                                <div class="form-group col-md-6">
                                    <label>Detalle:</label><br/>
                                    <select ng-options = "deta.name as deta.name for deta in [{code: 'APC' ,name:'ABONO PARCIAL DE CUOTA'}, {code: 'ACC', name:'ABONO COMPLEMENTARIO DE CUOTA'}, {code: 'PTC', name:'PAGO TOTAL DE CUOTA'}]"
                                            ng-model = "vm.paymentDebts.detail" class = "form-control">
                                    </select>
                                </div>
                                <div class = "form-group col-md-6">
                                    <label>Monto a Abonar:</label><br/>
                                    <input type = "text" class = "form-control" ng-model = "vm.paymentDebts.valorAbono" placeholder = "{{vm.creditsDebtsValue}}"/>
                                </div>
                            </div>
                            <div class = "row" ng-show="vm.paymentDebts.modePayment === 'DEP'">
                                <div class="form-group col-md-12" ng-show="vm.ctaCtableBankList !== undefined">
                                    <input ng-model="searchTextTaxes" class="form-control" placeholder="Buscar">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>N&uacute;mero de Cuenta</th>
                                                <th>Nombre del Banco</th>
                                                <th>Tipo de Cuenta</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-show="vm.ctaCtableBankList == 0">
                                                <td colspan="2">
                                                    No hay Cuentas Contables de Bancos Ingresadas
                                                </td>
                                            </tr>
                                            <tr dir-paginate = "cuenta in vm.ctaCtableBankList | orderBy:'description' | filter:searchTextTaxes | itemsPerPage: 3" pagination-id = "taxesPagination">
                                                <td>{{cuenta.code}}</td>
                                                <td>{{cuenta.accountType}}</td>
                                                <td>{{cuenta.description}}</td>
                                                <td>
                                                    <button type = "button" title = "Seleccionar" class = "btn btn-primary btn-sm"
                                                            ng-click = "vm.selectCtaCtableBank(cuenta)">
                                                            <span class = "glyphicon glyphicon-check" aria-hidden = "true"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <dir-pagination-controls pagination-id = "taxesPagination"></dir-pagination-controls>
                                </div>
                                <div class = "form-group col-md-6">
                                    <label>Banco:</label><br/>
                                    <input type = "text" class = "form-control" ng-model = "vm.bankName"/>
                                </div>
                                <div class = "form-group col-md-6">
                                    <label>N&uacute;mero de Depósito:</label><br/>
                                    <input type = "text" class = "form-control" ng-model = "vm.paymentDebts.noDocument"/>
                                </div>
                                <div class = "form-group col-md-6">
                                    <label>N&uacute;mero de Cuenta:</label><br/>
                                    <input type = "text" class = "form-control" ng-model = "vm.paymentDebts.noAccount"/>
                                </div>
                                <div class = "form-group col-md-6">
                                    <label>Detalle:</label><br/>
                                    <select ng-options = "deta.name as deta.code for deta in [{code: 'ABONO PARCIAL DE CUOTA' ,name:'ABONO PARCIAL DE CUOTA'}, {code: 'ABONO COMPLEMENTARIO DE CUOTA', name:'ABONO COMPLEMENTARIO DE CUOTA'}, {code: 'PAGO TOTAL DE CUOTA', name:'PAGO TOTAL DE CUOTA'}]"
                                            ng-model = "vm.paymentDebts.detail" class = "form-control">
                                    </select>
                                </div>
                                <div class = "form-group col-md-6">
                                    <label>Monto a Abonar:</label><br/>
                                    <input type = "text" class = "form-control" ng-model = "vm.paymentDebts.valorAbono" placeholder="{{vm.creditsDebtsValue}}"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class = "row" ng-show = "vm.paymentDebts.typePayment === 'RET'">
                        <div class = "form-group col-md-12">
                            <div class="row">
                                <div class="form-group col-md-6">
                                    <label>N&uacute;mero de Retenci&oacute;n:</label><br/>
                                    <input type="text" class="form-control" ng-model="vm.paymentDebts.noDocument" maxlength="17"/>
                                </div>
                                <div class="form-group col-md-6">
                                    <label>Detalle:</label><br/>
                                    <select ng-options="deta.name as deta.code for deta in [{code: 'ABONO POR RETENCIÓN' ,name:'ABONO POR RETENCIÓN'}]"
                                            ng-model="vm.paymentDebts.detail" class="form-control">
                                    </select>
                                </div>
                                <div class="form-group col-md-6">
                                    <label>Monto de la Retenci&oacute;n:</label><br/>
                                    <input type="text" class="form-control" ng-model="vm.paymentDebts.valorReten" placeholder="{{vm.creditsDebtsValue}}"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class = "row" ng-show = "vm.paymentDebts.typePayment === 'CEG'">
                        <div class = "form-group col-md-12">
                            <div class="row">
                                <div class="form-group col-md-6">
                                    <label>Nro. Comprobante Egreso:</label><br/>
                                    <input type="text" class="form-control" ng-model="vm.paymentDebts.noDocument" maxlength="17"/>
                                </div>
                                <div class="form-group col-md-6">
                                    <label>Detalle:</label><br/>
                                    <select ng-options="deta.name as deta.code for deta in [{code: 'ABONO POR COMP. EGRESO' ,name:'ABONO POR COMP. EGRESO'}]"
                                            ng-model="vm.paymentDebts.detail" class="form-control">
                                    </select>
                                </div>
                                <div class="form-group col-md-6">
                                    <label>Monto:</label><br/>
                                    <input type="text" class="form-control" ng-model="vm.paymentDebts.valorAbono" placeholder="{{vm.creditsDebtsValue}}"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type = "button" title = "Aceptar" class = "btn btn-success btn-sm" ng-click = "vm.pAbonoDebts(vm.paymentDebts)" data-dismiss = "modal">
                            <span class = "glyphicon glyphicon-thumbs-up" aria-hidden = "true"></span>
                    </button>
                    <button type = "button" title = "Salir" class = "btn btn-primary btn-sm" ng-click = "vm.cancel()" data-dismiss = "modal">
                            <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--SECCIÓN DE PAGOS MULTIPLES DE FACTURAS DE COMPRA-->
    <div class="table-responsive" ng-show="vm.multipleSelected !== undefined">
        <div class = "panel panel-primary">
            <div class = "panel-heading">
                <h4 class = "modal-title">Pago Multiple de Facturas</h4>
            </div>
            <div class = "panel-body">
                <div class = "row">
                    <div class = "form-group col-md-6">
                        <label>Nombre del Proveedor:</label><br/>
                        <b>{{vm.providerName}}</b>
                    </div>
                    <div class = "form-group col-md-6">
                        <label>Identificaci&oacute;n del Proveedor:</label><br/>
                        <b>{{vm.providerRuc}}</b><br/>
                    </div>
                </div>
                <div class = "row">
                    <div class = "form-group col-md-6">
                        <label>Seleccione el Tipo de Abono:</label><br/>
                        <select ng-options = "item.code as item.name for item in [{code:'PAC', name:'PAGO CORRIENTE'}]"
                                ng-model = "vm.typePayment" class = "form-control">
                        </select>
                    </div>
                    <div class = "form-group col-md-6" ng-show = "vm.typePayment === 'PAC'">
                        <label>Seleccione Modalidad de Pago:</label><br/>
                        <label class = "radio-inline"><input type="radio" ng-model = "vm.modePayment" 
                               value = "CHQ" name = "cheque">Cheque</label>
                        <label class = "radio-inline"><input type="radio" ng-model = "vm.modePayment" 
                                value = "TRF" name = "transferencia">Transferencia</label>
                        <label class = "radio-inline"><input type="radio" ng-model="vm.modePayment" 
                               value = "DEP" name = "deposito">Depósito Bancario</label>
                    </div>
                </div>
                <div class = "row">
                    <div class = "form-group col-md-6" ng-show = "vm.typePayment === 'PAC'">
                        <label>Fecha de Pago: </label>
                        <div class = "input-group date" id="pickerDateOfMultiPayment">
                            <input type = "text" class="form-control input-group-addon"/>
                            <span class = "input-group-addon"><span class = "glyphicon glyphicon-calendar"/></span>
                        </div>
                        <script>
                            $('#pickerDateOfMultiPayment').datetimepicker({
                                format: "DD/MM/YY",
                            });
                        </script>
                    </div>
                    <div class = "form-group col-md-12">
                        <div class = "row" ng-show = "vm.modePayment === 'CHQ'">
                            <div class="form-group col-md-12" ng-show="vm.ctaCtableBankList !== undefined">
                                <input ng-model="searchTextTaxes" class="form-control" placeholder="Buscar">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>N&uacute;mero de Cuenta</th>
                                            <th>Nombre del Banco</th>
                                            <th>Tipo de Cuenta</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-show="vm.ctaCtableBankList == 0">
                                            <td colspan="2">
                                                No hay Cuentas Contables de Bancos Ingresadas
                                            </td>
                                        </tr>
                                        <tr dir-paginate = "cuenta in vm.ctaCtableBankList | orderBy:'description' | filter:searchTextTaxes | itemsPerPage: 3" pagination-id = "taxesPagination">
                                            <td>{{cuenta.code}}</td>
                                            <td>{{cuenta.accountType}}</td>
                                            <td>{{cuenta.description}}</td>
                                            <td>
                                                <button type = "button" title = "Seleccionar" class = "btn btn-primary btn-sm"
                                                        ng-click = "vm.selectCtaCtableBank(cuenta)">
                                                        <span class = "glyphicon glyphicon-check" aria-hidden = "true"></span>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <dir-pagination-controls pagination-id = "taxesPagination"></dir-pagination-controls>
                            </div>
                            <div class = "form-group col-md-6">
                                <label>Banco:</label><br/>
                                <input type = "text" class = "form-control" ng-model = "vm.bankName"/>
                            </div>
                            <div class = "form-group col-md-3">
                                <label>N&uacute;mero de Cheque:</label><br/>
                                <input type = "text" class = "form-control" ng-model = "vm.noDocument"/>
                            </div>
                            <div class = "form-group col-md-3">
                                <label>Monto del Cheque:</label><br/>
                                <input type = "text" class = "form-control" ng-model = "vm.valorDocumento"/>
                            </div>
                            <div class = "form-group col-md-3">
                                <label>N&uacute;mero de Cuenta:</label><br/>
                                <input type = "text" class = "form-control" ng-model = "vm.noAccount"/>
                            </div>
                            <div class = "form-group col-md-6">
                                <label>Detalle:</label><br/>
                                <select ng-options = "deta.name as deta.code for deta in [{code: 'ABONO PARCIAL DE CUOTA' ,name:'ABONO PARCIAL DE CUOTA'}, {code: 'ABONO COMPLEMENTARIO DE CUOTA', name:'ABONO COMPLEMENTARIO DE CUOTA'}, {code: 'PAGO TOTAL DE CUOTA', name:'PAGO TOTAL DE CUOTA'}]"
                                        ng-model = "vm.details" class = "form-control">
                                </select>
                            </div>
                            <div class = "form-group col-md-3">
                                <br/>
                                <button type = "button" title = "Buscar Facturas Pendientes" class = "btn btn-primary btn-sm"
                                        ng-click = "vm.findDebtsToPay()" data-toggle = "modal" data-target = "#modalFindDebtsToPay">
                                        Facturas Pendientes
                                </button>
                            </div>
                        </div>
                        <div class = "row" ng-show = "vm.modePayment === 'TRF'">
                            <div class="form-group col-md-12" ng-show="vm.ctaCtableBankList !== undefined">
                                <input ng-model="searchTextTaxes" class="form-control" placeholder="Buscar">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>N&uacute;mero de Cuenta</th>
                                            <th>Nombre del Banco</th>
                                            <th>Tipo de Cuenta</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-show="vm.ctaCtableBankList == 0">
                                            <td colspan="2">
                                                No hay Cuentas Contables de Bancos Ingresadas
                                            </td>
                                        </tr>
                                        <tr dir-paginate = "cuenta in vm.ctaCtableBankList | orderBy:'description' | filter:searchTextTaxes | itemsPerPage: 3" pagination-id = "taxesPagination">
                                            <td>{{cuenta.code}}</td>
                                            <td>{{cuenta.accountType}}</td>
                                            <td>{{cuenta.description}}</td>
                                            <td>
                                                <button type = "button" title = "Seleccionar" class = "btn btn-primary btn-sm"
                                                        ng-click = "vm.selectCtaCtableBank(cuenta)">
                                                        <span class = "glyphicon glyphicon-check" aria-hidden = "true"></span>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <dir-pagination-controls pagination-id = "taxesPagination"></dir-pagination-controls>
                            </div>
                            <div class = "form-group col-md-6">
                                <label>Banco:</label><br/>
                                <input type = "text" class = "form-control" ng-model = "vm.bankName"/>
                            </div>
                            <div class = "form-group col-md-3">
                                <label>N&uacute;mero de Transferencia:</label><br/>
                                <input type = "text" class = "form-control" ng-model = "vm.noDocument"/>
                            </div>
                            <div class = "form-group col-md-3">
                                <label>Monto de la Transferencia:</label><br/>
                                <input type = "text" class = "form-control" ng-model = "vm.valorDocumento"/>
                            </div>
                            <div class = "form-group col-md-3">
                                <label>N&uacute;mero de Cuenta:</label><br/>
                                <input type = "text" class = "form-control" ng-model = "vm.noAccount"/>
                            </div>
                            <div class = "form-group col-md-6">
                                <label>Detalle:</label><br/>
                                <select ng-options = "deta.name as deta.code for deta in [{code: 'ABONO PARCIAL DE CUOTA' ,name:'ABONO PARCIAL DE CUOTA'}, {code: 'ABONO COMPLEMENTARIO DE CUOTA', name:'ABONO COMPLEMENTARIO DE CUOTA'}, {code: 'PAGO TOTAL DE CUOTA', name:'PAGO TOTAL DE CUOTA'}]"
                                        ng-model = "vm.details" class = "form-control">
                                </select>
                            </div>
                            <div class = "form-group col-md-3">
                                <br/>
                                <button type = "button" title = "Buscar Facturas Pendientes" class = "btn btn-primary btn-sm"
                                        ng-click = "vm.findDebtsToPay()" data-toggle = "modal" data-target = "#modalFindDebtsToPay">
                                        Facturas Pendientes
                                </button>
                            </div>
                        </div>
                        <div class = "row" ng-show="vm.modePayment === 'DEP'">
                            <div class="form-group col-md-12" ng-show="vm.ctaCtableBankList !== undefined">
                                <input ng-model="searchTextTaxes" class="form-control" placeholder="Buscar">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>N&uacute;mero de Cuenta</th>
                                            <th>Nombre del Banco</th>
                                            <th>Tipo de Cuenta</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-show="vm.ctaCtableBankList == 0">
                                            <td colspan="2">
                                                No hay Cuentas Contables de Bancos Ingresadas
                                            </td>
                                        </tr>
                                        <tr dir-paginate = "cuenta in vm.ctaCtableBankList | orderBy:'description' | filter:searchTextTaxes | itemsPerPage: 3" pagination-id = "taxesPagination">
                                            <td>{{cuenta.code}}</td>
                                            <td>{{cuenta.accountType}}</td>
                                            <td>{{cuenta.description}}</td>
                                            <td>
                                                <button type = "button" title = "Seleccionar" class = "btn btn-primary btn-sm"
                                                        ng-click = "vm.selectCtaCtableBank(cuenta)">
                                                        <span class = "glyphicon glyphicon-check" aria-hidden = "true"></span>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <dir-pagination-controls pagination-id = "taxesPagination"></dir-pagination-controls>
                            </div>
                            <div class = "form-group col-md-6">
                                <label>Banco:</label><br/>
                                <input type = "text" class = "form-control" ng-model = "vm.bankName"/>
                            </div>
                            <div class = "form-group col-md-3">
                                <label>N&uacute;mero de Dep&oacute;sito:</label><br/>
                                <input type = "text" class = "form-control" ng-model = "vm.noDocument"/>
                            </div>
                            <div class = "form-group col-md-3">
                                <label>Monto del Dep&oacute;sito:</label><br/>
                                <input type = "text" class = "form-control" ng-model = "vm.valorDocumento"/>
                            </div>
                            <div class = "form-group col-md-3">
                                <label>N&uacute;mero de Cuenta:</label><br/>
                                <input type = "text" class = "form-control" ng-model = "vm.noAccount"/>
                            </div>
                            <div class = "form-group col-md-6">
                                <label>Detalle:</label><br/>
                                <select ng-options = "deta.name as deta.code for deta in [{code: 'ABONO PARCIAL DE CUOTA' ,name:'ABONO PARCIAL DE CUOTA'}, {code: 'ABONO COMPLEMENTARIO DE CUOTA', name:'ABONO COMPLEMENTARIO DE CUOTA'}, {code: 'PAGO TOTAL DE CUOTA', name:'PAGO TOTAL DE CUOTA'}]"
                                        ng-model = "vm.details" class = "form-control">
                                </select>
                            </div>
                            <div class = "form-group col-md-3">
                                <br/>
                                <button type = "button" title = "Buscar Facturas Pendientes" class = "btn btn-primary btn-sm"
                                        ng-click = "vm.findDebtsToPay()" data-toggle = "modal" data-target = "#modalFindDebtsToPay">
                                        Facturas Pendientes
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class = "row">
                    <div class="form-group col-md-12">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>No. Factura</th>
                                    <th>Total</th>
                                    <th>Pendiente</th>
                                    <th>Abono Realizado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-show="vm.itemsMultiplePayments == 0">
                                    <td colspan="4">
                                        No hay Facturas de Compra Ingresadas
                                    </td>
                                </tr>
                                <tr ng-repeat="mp in vm.itemsMultiplePayments">
                                    <td>{{mp.bill_number}}</td>
                                    <td>{{mp.debt_total}}</td>
                                    <td>{{mp.debt_pending}}</td>
                                    <td>{{mp.debt_abono}}</td>
                                    <td>
                                        <button type = "button" title = "Eliminar Abono" class = "btn btn-primary btn-sm" 
                                                ng-click = "vm.eliminaAbono($index)">
                                                <span class = "glyphicon glyphicon-trash" aria-hidden = "true"></span>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td><b>SALDO: {{vm.getTotalMultiAbonos()}}</b></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class = "panel-footer">
                <button type = "button" title = "Aceptar" class = "btn btn-success btn-sm" ng-click = "vm.pagoMultiAbonoDebts()"
                        ng-disabled ="vm.getTotalMultiAbonos() != vm.valorDocumento">
                        <span class = "glyphicon glyphicon-thumbs-up" aria-hidden = "true"></span>
                </button>
                <button type = "button" title = "Salir" class = "btn btn-primary btn-sm" ng-click = "vm.cancel()">
                        <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                </button>
            </div>        
        </div>
    </div>

    <div id = "modalFindDebtsToPay" class="modal fade" role="dialog">
        <div class = "modal-dialog">
            <div class = "modal-content">
                <div class = "modal-header">
                    <div>
                        <b>Cuentas por Pagar Pertenecientes a: {{vm.providerName}}</b>
                    </div>
                </div>
                <div class = "modal-body">
                    <div class ="row">
                        <div class = "col-md-12" ng-if = "vm.creditsMultiDebtsList === undefined && vm.creditsDebtsSelected === undefined">
                            <table class = "table table-striped">
                                <thead>
                                    <tr>
                                        <th>No. Cuenta</th>
                                        <th>No. Factura</th>
                                        <th>No. Retenci&oacute;n</th>
                                        <th>Fecha</th>
                                        <th>Total</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-show = "vm.debtsToPayMultipleList == 0">
                                        <td colspan = "4">
                                            El Proveedor <b>No Presenta</b> Cuentas por Pagar Pendientes...
                                        </td>
                                    </tr>
                                    <tr ng-repeat = "debts in vm.debtsToPayMultipleList">
                                        <td>{{debts.debtsSeq}}</td>
                                        <td>{{debts.billNumber}}</td>
                                        <td>{{debts.retentionNumber}}</td>
                                        <td>{{debts.fecha | date : "dd/MM/yyyy"}}</td>
                                        <td>{{debts.total}}</td>
                                        <td>
                                            <button type = "button" title = "Consultar Créditos Pendientes" class = "btn btn-primary btn-sm" 
                                                    ng-click = "vm.creditsMultiByDebts(debts)">
                                                    <span class = "glyphicon glyphicon-ok" aria-hidden = "true"></span>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div>
                                <button type = "button" title = "Salir" class = "btn btn-primary btn-sm" data-dismiss = "modal">
                                        <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                                </button>
                            </div>
                        </div>
                        <div class = "col-md-12" ng-if = "vm.creditsMultiDebtsList !== undefined">
                            <table class = "table table-striped">
                                <thead>
                                    <tr>
                                        <th>Fecha Limite</th>
                                        <th>N&uacute;mero de Pagos</th>
                                        <th>Saldo por Cancelar</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-show = "vm.creditsMultiDebtsList == 0">
                                        <td colspan = "4">
                                            La Cuenta por Pagar <b>No Presenta</b> Cobros Pendientes por Cancelar...
                                        </td>
                                    </tr>
                                    <tr ng-repeat = "creditsDebts in vm.creditsMultiDebtsList | orderBy : 'payNumber' : true">
                                        <td>{{creditsDebts.fecha | date : "dd/MM/yyyy"}}</td>
                                        <td>{{creditsDebts.payNumber}}</td>
                                        <td>{{(creditsDebts.valor).toFixed(2)}}</td>
                                        <td>
                                            <button type = "button" title = "Seleccionar Factura" class = "btn btn-primary btn-sm" ng-click = "vm.multipleAbonoDebts(creditsDebts)">
                                                    <span class = "glyphicon glyphicon-ok" aria-hidden = "true"></span>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div>
                                <button type = "button" title = "Anterior" class = "btn btn-primary btn-sm" ng-click = "vm.creditsMultiDebtsList = undefined">
                                        <span class = "glyphicon glyphicon-arrow-left" aria-hidden = "true"></span>
                                </button>
                                <button type = "button" title = "Salir" class = "btn btn-primary btn-sm" data-dismiss = "modal">
                                        <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                                </button>
                            </div>
                        </div>
                        <div class = "col-md-12" ng-if = "vm.creditsDebtsSelected !== undefined">
                            <div>
                                <div class="form-group col-md-6">
                                    <label>Factura Nro:</label><br/>
                                    {{vm.debtsBillNumber}}
                                </div>
                                <div class="form-group col-md-6">
                                    <label>Valor Abono:</label><br/>
                                    <input type = "text" class = "form-control" ng-model = "vm.valorAbono"/>
                                </div>
                            </div>
                            <div>
                                <button type = "button" title = "Aceptar" class = "btn btn-success btn-sm" ng-click = "vm.aceptaAbono()">
                                        <span class = "glyphicon glyphicon-thumbs-up" aria-hidden = "true"></span>
                                </button>
                                <button type = "button" title = "Salir" class = "btn btn-primary btn-sm" data-dismiss = "modal">
                                        <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--SECCIÓN DE CONSULTA DE CUENTAS POR PAGAR POR PROVEEDOR-->
    <div class="table-responsive" ng-show = "vm.providerDebtsList !== undefined">
        <div class = "panel panel-primary">
            <div class = "panel-heading">
                <h4>Consulta de Cuentas por Pagar</h4>
                <div>
                    <b>Cuentas por Pagar Pertenecientes a: {{vm.providerName}}</b>
                </div>
            </div>
            <div class = "panel-body">
                <label>B&uacute;squeda de Cuentas</label>
                <input ng-model="searchText" class="form-control" placeholder="Buscar">
                <table class = "table table-striped">
                    <thead>
                        <tr>
                            <th>No. Cuenta</th>
                            <th>No. Factura</th>
                            <th>Descripci&oacute;n</th>
                            <th>Fecha</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-show = "vm.providerDebtsList == 0">
                            <td colspan = "4">
                                El Proveedor <b>No Presenta</b> Cuentas por Pagar Ingresadas...
                            </td>
                        </tr>
                        <tr ng-repeat = "debts in vm.providerDebtsList">
                            <td>{{debts.debtsSeq}}</td>
                            <td>{{debts.billNumber}}</td>
                            <td>{{debts.observacion}}</td>
                            <td>{{debts.fecha | date : "dd/MM/yyyy"}}</td>
                            <td>{{debts.total}}</td>
                            <td>
                                <button type = "button" title = "Ver Cuenta por Pagar" 
                                        class = "btn btn-primary btn-sm" ng-click = "vm.debtsToPayToPrint(debts)">
                                        <span class = "glyphicon glyphicon-eye-open" aria-hidden = "true"></span>
                                </button>
                                <!--<button type = "button" title = "Editar Cuenta por Pagar" 
                                        class = "btn btn-primary btn-sm" ng-click = "vm.debtsToPayToUpdate(debts)">
                                        <span class = "glyphicon glyphicon-pencil" aria-hidden = "true"></span>
                                </button>-->
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class = "panel-footer">
                <button type = "button" title = "Salir" class = "btn btn-primary btn-sm" ng-click = "vm.cancel()">
                        <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                </button>
            </div>
        </div>
    </div>

    <!--SECCIÓN DE CONSULTA DE UNA CUENTA POR PAGAR INDIVIDUAL-->
    <div class="panel-group table-responsive" ng-show = "vm.debtsProviderSelected !== undefined" id = "printArea" print-section>
        <div class = "panel panel-primary">
            <div class = "panel-heading">
                <h4>Cuenta por Pagar Nro: {{vm.seqNumber}}</h4>
                <div>
                    Factura Nro: {{vm.billNumber}}
                </div>
            </div>  
            <div class = "panel-body">
                <div class = "row">
                    <div class = "form-group col-md-12">
                        <table width = "100%">
                            <tr>
                                <td width = "30%" align = "center"><img src="images/{{vm.companyData.userClient.logo}}"><br></td>
                                <td width = "70%">
                                    <b>{{vm.companyData.userClient.name}}</b><br/></br>
                                    <b>Matriz: {{vm.companyData.userClient.address1}}</b><br/>
                                    <b>Establecimiento: {{vm.companyData.address1}}</b><br/><br/>
                                    <b>RUC: {{vm.companyData.userClient.ruc}}</b><br/>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class = "row">
                    <div class = "form-group col-md-12">
                        <table width = "100%">
                            <tr>
                                <td width = "30%">
                                    <label>FECHA:</label>
                                    <div class = "input-group date" id = "pickerDebtsToPayDate">
                                        <input type = "text" class = "form-control input-group-addon"/>
                                        <span class = "input-group-addon"><span class = "glyphicon glyphicon-calendar"></span>
                                    </div>
                                    <script>
                                        var defaultDate = new Date();
                                        $('#pickerDebtsToPayDate').datetimepicker({
                                            format: "DD/MM/YY HH:mm",
                                        });
                                    </script>
                                </td>
                                <td width = "70%">
                                    <div style = "padding-left: 10px">
                                        <label>CLAVE DE ACCESO:</label><br/>
                                        {{vm.debtsToPay.authorizationNumber}}
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class = "row">
                    <div class = "form-group col-md-12">
                        <table width="100%">
                            <tr>
                                <td>
                                    <b>PROVEEDOR: </b>{{vm.debtsProviderSelected.razonSocial}}<br/>
                                </td>
                                <td>
                                    <b ng-if = "vm.debtsProviderSelected.ruc_type === 'CED'">CEDULA: </b>
                                    <b ng-if = "vm.debtsProviderSelected.ruc_type === 'RUC'">RUC: </b>
                                    <b ng-if = "vm.debtsProviderSelected.ruc_type === 'PAS'">PASAPORTE: </b>
                                    {{vm.debtsProviderSelected.ruc}}
                                </td>
                                <td>
                                    <b>TELÉFONO: </b>{{vm.debtsProviderSelected.phone}}
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class = "row">
                    <div class = "form-group col-md-12">
                        <table width = "100%">
                            <tr>
                                <td><b>DIRECCIÓN: </b>{{vm.debtsProviderSelected.address1}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class = "panel panel-primary">
            <div class = "panel-heading">
                <b>Detalle</b>
            </div>
            <div class = "panel-body">
                <div class = "row">
                    <div class = "form-group col-md-12">
                        <table class = "table table-striped">
                            <thead>
                                <tr>
                                    <th>CÓDIGO</th>
                                    <th>CUENTA ASOCIADA</th>
                                    <th>DESCRIPCIÓN</th>
                                    <th>TIPO</th>
                                    <th>VALOR</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat = "det in vm.debtsDetails" >
                                    <td>{{det.codeConta}}</td>
                                    <td>{{det.descrip}}</td>
                                    <td>{{det.name}}</td>
                                    <td>{{det.tipo}}</td>
                                    <td>{{det.baseImponible}}</td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>DEBITO: {{vm.getTotalDebitoRep()}}</td>
                                    <td>CREDITO: {{vm.getTotalCreditoRep()}}</td>
                                    <td><b>SALDO: {{vm.getTotalSaldoRep()}}</b></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div> 
                    <div class="form-group col-md-12">
                        <label>Descripci&oacute;n:</label>
                        {{vm.debtsToPay.observacion}}
                    </div>
                </div>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading">
                <b>Forma de Pago</b>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-md-12">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Medio</th>
                                    <th>Valor</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="pago in vm.pagos">
                                    <td>
                                        {{pago.medio}}<br/>
                                        <span ng-if="pago.medio === 'cheque'">
                                            {{pago.chequeBank}} - {{pago.chequeAccount}} - {{pago.chequeNumber}}<br/>
                                        </span>
                                        <span ng-if="pago.medio === 'credito'">
                                            NÚMERO DE PAGOS: {{pago.creditoNumeroPagos}} - DIAS: {{pago.creditoIntervalos}}<br/>
                                        </span>
                                        <span ng-if="pago.medio === 'cheque_posfechado'">
                                            {{pago.chequeBank}} - {{pago.chequeAccount}} - {{pago.chequeNumber}} - {{pago.fechaCobro | date :  "dd/MM/yyyy"}}<br/>
                                        </span>
                                        <span ng-if="pago.medio === 'tarjeta_credito' || pago.medio === 'tarjeta_debito'">
                                            {{pago.cardBrand}}<br/>
                                        </span>
                                        {{pago.payForm}}
                                    </td>
                                    <td>{{(pago.total).toFixed(2)}}</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td><b>TOTAL</b></td>
                                    <td>{{(vm.getTotalPago()).toFixed(2)}}</td>
                                    <td>
                                        Vuelto: {{(vm.getCambio).toFixed(2)}}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class = "panel-footer" print-remove>
                <button print-btn type = "button" title = "Imprimir Comprobante" class = "btn btn-primary btn-sm" print-remove>
                        <span class = "glyphicon glyphicon-print" aria-hidden = "true"></span>
                </button>
                <button type = "button" title = "Salir" class = "btn btn-primary btn-sm"
                        ng-click = "vm.debtsProviderSelected = undefined">
                        <span class = "glyphicon glyphicon-log-out" aria-hidden = "true"></span>
                </button>
            </div>
        </div>
    </div>
</div>